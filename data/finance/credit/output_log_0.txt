(drawdown_open ?case) -> the drawdown of {?case} is open
(drawdown_locked ?case) -> the drawdown of {?case} is locked
(drawdown_completed ?case) -> the drawdown of {?case} is completed
(drawdown_frozen ?case) -> the drawdown of {?case} is frozen
(compliance_hold_flag ?case) -> the compliance hold flag for {?case} is set
(suspicious_payment_flag ?case) -> the suspicious payment flag for {?case} is set
(wire_released ?payment_instruction) -> the wire for {?payment_instruction} has been released
(notice_created ?notice) -> {?notice} has been created
(facility_requires_fx_review ?facility_doc) -> {?facility_doc} requires fx review
(facility_requires_agent_notice ?facility_doc) -> {?facility_doc} requires agent notice
(channel_selected ?case ?channel) -> {?case} has channel {?channel} selected
(facility_selected ?case ?facility_doc) -> {?case} has facility {?facility_doc} selected
(required_person ?case ?person) -> {?case} requires person {?person}
(person_linked_to_case ?case ?person) -> {?person} is linked to case {?case}
(required_document ?case ?doc) -> {?doc} is a required document for case {?case}
(document_for_case ?doc ?case) -> {?doc} is a document for case {?case}
(document_for_person ?doc ?person) -> {?doc} is a document for person {?person}
(document_received ?doc) -> {?doc} has been received
(document_verified ?doc) -> {?doc} has been verified
(doc_is_borrowing_base_certificate ?doc) -> {?doc} is a borrowing base certificate
(doc_is_compliance_certificate ?doc) -> {?doc} is a compliance certificate
(doc_is_covenant_compliance_statement ?doc) -> {?doc} is a covenant compliance statement
(doc_is_fee_calculation_sheet ?doc) -> {?doc} is a fee calculation sheet
(doc_is_use_of_proceeds_statement ?doc) -> {?doc} is a use of proceeds statement
(doc_is_authorization_kyc_record ?doc) -> {?doc} is an authorization kyc record
(borrowing_base_verified ?case) -> {?case} has a verified borrowing base
(compliance_certificate_verified ?case) -> {?case} has a verified compliance certificate
(covenant_statement_verified ?case) -> {?case} has a verified covenant statement
(use_of_proceeds_verified ?case) -> {?case} has a verified use of proceeds
(two_officer_signoff_recorded ?case) -> {?case} has a recorded two-officer signoff
(person_auth_doc_verified ?person) -> {?person}'s authorization documents are verified
(person_contact_verified ?person) -> {?person}'s contact information is verified
(person_in_required_set ?person) -> {?person} is in the required set
(person_sanctions_checked ?person) -> {?person} has had sanctions checked
(person_pep_checked ?person) -> {?person} has been checked for politically exposed person status
(person_full_clearance ?person) -> {?person} has full clearance
(availability_calculated ?case) -> availability for {?case} has been calculated
(limit_headroom_confirmed ?case) -> limit headroom for {?case} has been confirmed
(basic_drawdown_checks_complete ?case) -> basic drawdown checks for {?case} are complete
(fast_track_enabled ?case) -> fast track is enabled for {?case}
(drawdown_package_compiled ?case) -> drawdown package is compiled for {?case}
(credit_ops_approved ?case) -> {?case} is approved by credit ops
(risk_approved ?case) -> {?case} is approved by risk
(auto_approved ?case) -> {?case} is approved automatically
(packet_creation_authorized ?case) -> {?case} is authorized for packet creation
(facility_eligible_for_case ?case ?facility_doc) -> {?facility_doc} is eligible for case {?case}
(facility_document_validated ?facility_doc) -> {?facility_doc} is a validated facility document
(packet_for_case ?packet ?case) -> {?packet} is a packet for case {?case}
(packet_created ?packet) -> {?packet} was created
(packet_attached_facility_document ?packet ?facility_doc) -> {?packet} has the facility document {?facility_doc} attached
(packet_assigned_signer ?packet ?borrower_signer) -> {?packet} has the signer {?borrower_signer} assigned
(packet_has_signature_slot ?packet ?signature_slot) -> {?packet} has the signature slot {?signature_slot}
(signature_collection_started ?packet) -> signature collection has started for {?packet}
(signature_captured ?packet ?borrower_signer) -> a signature was captured for {?packet} by {?borrower_signer}
(two_signatures_verified ?packet) -> two signatures have been verified for {?packet}
(packet_compliance_checked ?packet) -> compliance for {?packet} has been checked
(packet_finalized ?packet) -> packet {?packet} has been finalized
(drawdown_packet_complete ?case) -> drawdown packet {?case} is complete
(packet_reopened ?packet) -> 
(payment_instruction_drafted ?case) -> 
(case_has_payment_instruction ?case ?payment_instruction) -> 
(payment_instruction_created ?payment_instruction) -> 
(payment_instruction_validated ?case) -> 
(payment_instruction_approved ?case) -> 
(payment_instruction_ready_to_sign ?case) -> the payment instruction for {?case} is ready to be signed
(payment_instruction_signed ?payment_instruction) -> the payment instruction {?payment_instruction} is signed
(payment_instruction_sent_to_treasury ?payment_instruction) -> the payment instruction {?payment_instruction} is sent to the treasury
(payment_instruction_executed ?payment_instruction) -> the payment instruction {?payment_instruction} is executed
(beneficiary_credited ?payment_instruction) -> the beneficiary of payment instruction {?payment_instruction} is credited
(funds_settled ?payment_instruction) -> funds for payment instruction {?payment_instruction} are settled
(token_available ?token) -> {?token} is available
(token_consumed ?token) -> {?token} has been consumed
(wire_cutoff_reserved ?payment_instruction) -> {?payment_instruction} is reserved for wire cutoff
(notice_addressed_to_signer ?notice ?case ?borrower_signer) -> {?notice} is addressed to the signer {?borrower_signer} in case {?case}
(notice_approved ?notice) -> {?notice} is approved
(delivery_package_created ?delivery_package) -> {?delivery_package} has been created
(package_for_notice ?delivery_package ?notice) -> {?delivery_package} is a package for {?notice}
(package_labeled ?delivery_package) -> {?delivery_package} is a labeled package
(label_printed ?delivery_package) -> {?delivery_package} has a printed label
(label_scanned ?delivery_package) -> {?delivery_package} has a scanned label
(notice_ready_to_send ?notice) -> {?notice} is ready to be sent
(notice_sent ?notice) -> {?notice} has been sent
(senior_override_assigned ?case) -> a senior override has been assigned to {?case}
(final_controls_complete ?case) -> final controls for {?case} are complete
(= ?x1 ?x2) -> {?x1} is equal to {?x2}
(!= ?x1 ?x2) -> {?x1} is not equal to {?x2}
(drawdown_open ?case) -> the drawdown for {?case} is open
(drawdown_locked ?case) -> {?case} is drawdown locked
(drawdown_completed ?case) -> drawdown for {?case} is completed
(drawdown_frozen ?case) -> {?case} is frozen during drawdown
(compliance_hold_flag ?case) -> {?case} has a compliance hold flag
(suspicious_payment_flag ?case) -> {?case} is flagged for suspicious payment
(wire_released ?payment_instruction) -> the wire for {?payment_instruction} has been released
(notice_created ?notice) -> {?notice} has been created
(facility_requires_fx_review ?facility_doc) -> {?facility_doc} requires facility fx review
(facility_requires_agent_notice ?facility_doc) -> {?facility_doc} requires agent notice
(channel_selected ?case ?channel) -> {?case} has channel {?channel} selected
(facility_selected ?case ?facility_doc) -> {?facility_doc} is selected for {?case}
(required_person ?case ?person) -> {?person} is required for {?case}
(person_linked_to_case ?case ?person) -> {?person} is linked to the case {?case}
(required_document ?case ?doc) -> {?doc} is a required document for case {?case}
(document_for_case ?doc ?case) -> {?doc} is a document for case {?case}
(document_for_person ?doc ?person) -> {?doc} is a document for {?person}
(document_received ?doc) -> {?doc} has been received
(document_verified ?doc) -> {?doc} is a verified document
(doc_is_borrowing_base_certificate ?doc) -> {?doc} is borrowing the base certificate
(doc_is_compliance_certificate ?doc) -> {?doc} is a compliance certificate
(doc_is_covenant_compliance_statement ?doc) -> {?doc} is a covenant compliance statement
(doc_is_fee_calculation_sheet ?doc) -> {?doc} is a fee calculation sheet
(doc_is_use_of_proceeds_statement ?doc) -> {?doc} is a use of proceeds statement
(doc_is_authorization_kyc_record ?doc) -> {?doc} is an authorization kyc record
(borrowing_base_verified ?case) -> {?case}'s borrowing base is verified
(compliance_certificate_verified ?case) -> the compliance certificate for {?case} has been verified
(covenant_statement_verified ?case) -> the covenant statement for {?case} is verified
(use_of_proceeds_verified ?case) -> the use of proceeds for {?case} is verified
(two_officer_signoff_recorded ?case) -> two officer signoff is recorded for {?case}
(person_auth_doc_verified ?person) -> {?person}'s authentication documents are verified
(person_contact_verified ?person) -> contact for {?person} is verified
(person_in_required_set ?person) -> {?person} is in the required set
(person_sanctions_checked ?person) -> {?person} has been checked for sanctions
(person_pep_checked ?person) -> {?person} has been pep checked
(person_full_clearance ?person) -> {?person} has full clearance
(availability_calculated ?case) -> availability for {?case} has been calculated
(limit_headroom_confirmed ?case) -> {?case} has its limit headroom confirmed
(basic_drawdown_checks_complete ?case) -> {?case} has completed basic drawdown checks
(fast_track_enabled ?case) -> fast track is enabled for {?case}
(drawdown_package_compiled ?case) -> {?case} is a compiled drawdown package
(credit_ops_approved ?case) -> {?case} is approved by credit ops
(risk_approved ?case) -> {?case} is approved for risk
(auto_approved ?case) -> {?case} is auto approved
(packet_creation_authorized ?case) -> packet creation for {?case} is authorized
(facility_eligible_for_case ?case ?facility_doc) -> {?facility_doc} is eligible for case {?case}
(facility_document_validated ?facility_doc) -> the facility document {?facility_doc} is validated
(packet_for_case ?packet ?case) -> {?packet} is a packet for {?case}
(packet_created ?packet) -> {?packet} was created
(packet_attached_facility_document ?packet ?facility_doc) -> {?packet} is attached to the facility document {?facility_doc}
(packet_assigned_signer ?packet ?borrower_signer) -> {?packet} is assigned to signer {?borrower_signer}
(packet_has_signature_slot ?packet ?signature_slot) -> {?packet} has signature slot {?signature_slot}
(signature_collection_started ?packet) -> signature collection has started for {?packet}
(signature_captured ?packet ?borrower_signer) -> {?packet} contains the captured signature of {?borrower_signer}
(two_signatures_verified ?packet) -> {?packet} is verified by two signatures
(packet_compliance_checked ?packet) -> {?packet} has been checked for compliance
(packet_finalized ?packet) -> {?packet} is finalized
(drawdown_packet_complete ?case) -> the drawdown packet for {?case} is complete
(packet_reopened ?packet) -> {?packet} has been reopened
(payment_instruction_drafted ?case) -> a payment instruction has been drafted for {?case}
(case_has_payment_instruction ?case ?payment_instruction) -> {?case} has payment instruction {?payment_instruction}
(payment_instruction_created ?payment_instruction) -> payment instruction {?payment_instruction} has been created
(payment_instruction_validated ?case) -> payment instruction for {?case} is validated
(payment_instruction_approved ?case) -> the payment instruction for {?case} is approved
(payment_instruction_ready_to_sign ?case) -> {?case} is a payment instruction ready to be signed
(payment_instruction_signed ?payment_instruction) -> {?payment_instruction} is a signed payment instruction
(payment_instruction_sent_to_treasury ?payment_instruction) -> the payment instruction {?payment_instruction} has been sent to the treasury
(payment_instruction_executed ?payment_instruction) -> {?payment_instruction} has been executed
(beneficiary_credited ?payment_instruction) -> the beneficiary is credited for {?payment_instruction}
(funds_settled ?payment_instruction) -> {?payment_instruction} funds are settled
(token_available ?token) -> {?token} is an available token
(token_consumed ?token) -> {?token} is consumed
(wire_cutoff_reserved ?payment_instruction) -> wire cutoff is reserved for {?payment_instruction}
(notice_addressed_to_signer ?notice ?case ?borrower_signer) -> {?notice} is addressed to the signer {?borrower_signer} in case {?case}
(notice_approved ?notice) -> {?notice} has been approved
(delivery_package_created ?delivery_package) -> {?delivery_package} delivery package has been created
(package_for_notice ?delivery_package ?notice) -> {?delivery_package} is a package for {?notice}
(package_labeled ?delivery_package) -> {?delivery_package} is a labeled package
(label_printed ?delivery_package) -> {?delivery_package} has a printed label
(label_scanned ?delivery_package) -> {?delivery_package}'s label has been scanned
(notice_ready_to_send ?notice) -> {?notice} is ready to send
(notice_sent ?notice) -> {?notice} has been sent
(senior_override_assigned ?case) -> {?case} has a senior override assigned
(final_controls_complete ?case) -> final controls are complete for {?case}
(= ?x1 ?x2) -> {?x1} is equal to {?x2}
(!= ?x1 ?x2) -> {?x1} is not equal to {?x2}
action: open_drawdown_case
parameters: [?case]
preconditions of open_drawdown_case: ?case is a drawdown_case and it is not the case that the drawdown for ?case is open and drawdown for ?case is completed and ?case is frozen during drawdown
effects of open_drawdown_case: it becomes true that the drawdown for ?case is open -> open drawdown for {drawdown_case ?case}
action: select_request_channel
parameters: [?case, ?channel]
preconditions of select_request_channel: the drawdown for ?case is open and ?case is a drawdown_case and ?channel is a request_channel and it is not the case that ?case is drawdown locked and ?case is frozen during drawdown
effects of select_request_channel: it becomes true that ?case has channel ?channel selected -> select request channel {request_channel ?channel} for {drawdown_case ?case}
action: select_facility_document
parameters: [?case, ?facility_doc]
preconditions of select_facility_document: the drawdown for ?case is open and ?case is a drawdown_case and ?facility_doc is a facility_document and it is not the case that ?case is drawdown locked and ?case is frozen during drawdown
effects of select_facility_document: it becomes true that ?facility_doc is selected for ?case -> select {facility_document ?facility_doc} for {drawdown_case ?case}
action: verify_borrowing_base_certificate
parameters: [?case, ?borrowing_base_doc]
preconditions of verify_borrowing_base_certificate: the drawdown for ?case is open and ?borrowing_base_doc is a required document for case ?case and ?borrowing_base_doc is a document for case ?case and ?borrowing_base_doc has been received and ?borrowing_base_doc is borrowing the base certificate and ?case is a drawdown_case and ?borrowing_base_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?borrowing_base_doc is a verified document
effects of verify_borrowing_base_certificate: it becomes true that ?borrowing_base_doc is a verified document and ?case's borrowing base is verified -> verify borrowing base certificate {drawdown_document ?borrowing_base_doc} for {drawdown_case ?case}
action: verify_compliance_certificate
parameters: [?case, ?compliance_cert_doc]
preconditions of verify_compliance_certificate: the drawdown for ?case is open and ?compliance_cert_doc is a required document for case ?case and ?compliance_cert_doc is a document for case ?case and ?compliance_cert_doc has been received and ?compliance_cert_doc is a compliance certificate and ?case is a drawdown_case and ?compliance_cert_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?compliance_cert_doc is a verified document
effects of verify_compliance_certificate: it becomes true that ?compliance_cert_doc is a verified document and the compliance certificate for ?case has been verified -> verify compliance certificate for {drawdown_case ?case} using {compliance_certificate ?compliance_cert_doc}
action: verify_covenant_compliance_statement
parameters: [?case, ?covenant_statement_doc]
preconditions of verify_covenant_compliance_statement: the drawdown for ?case is open and ?covenant_statement_doc is a required document for case ?case and ?covenant_statement_doc is a document for case ?case and ?covenant_statement_doc has been received and ?covenant_statement_doc is a covenant compliance statement and ?case is a drawdown_case and ?covenant_statement_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?covenant_statement_doc is a verified document
effects of verify_covenant_compliance_statement: it becomes true that ?covenant_statement_doc is a verified document and the covenant statement for ?case is verified -> verify covenant compliance statement {drawdown_document ?covenant_statement_doc} for {drawdown_case ?case}
action: verify_use_of_proceeds_statement
parameters: [?case, ?use_of_proceeds_doc]
preconditions of verify_use_of_proceeds_statement: the drawdown for ?case is open and ?use_of_proceeds_doc is a required document for case ?case and ?use_of_proceeds_doc is a document for case ?case and ?use_of_proceeds_doc has been received and ?use_of_proceeds_doc is a use of proceeds statement and ?case is a drawdown_case and ?use_of_proceeds_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?use_of_proceeds_doc is a verified document
effects of verify_use_of_proceeds_statement: it becomes true that ?use_of_proceeds_doc is a verified document and the use of proceeds for ?case is verified -> verify use of proceeds statement {use_of_proceeds_statement ?use_of_proceeds_doc} for {drawdown_case ?case}
action: verify_fee_calculation_sheet
parameters: [?case, ?fee_calc_doc]
preconditions of verify_fee_calculation_sheet: the drawdown for ?case is open and ?fee_calc_doc is a required document for case ?case and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc has been received and ?fee_calc_doc is a fee calculation sheet and ?case is a drawdown_case and ?fee_calc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?fee_calc_doc is a verified document
effects of verify_fee_calculation_sheet: it becomes true that ?fee_calc_doc is a verified document -> verify fee calculation sheet {drawdown_document ?fee_calc_doc} for {drawdown_case ?case}
action: record_two_officer_signoff
parameters: [?case, ?fee_calc_doc, ?officer_1, ?officer_2]
preconditions of record_two_officer_signoff: the drawdown for ?case is open and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc is a fee calculation sheet and ?fee_calc_doc is a verified document and ?officer_1 is required for ?case and ?officer_2 is required for ?case and ?officer_1 has full clearance and ?officer_2 has full clearance and ?case is a drawdown_case and ?fee_calc_doc is a drawdown_document and ?officer_1 is a bank_drawdown_officer and ?officer_2 is a bank_drawdown_officer and it is not the case that ?case is drawdown locked and ?officer_1 is equal to ?officer_2
effects of record_two_officer_signoff: it becomes true that two officer signoff is recorded for ?case -> 
action: verify_person_authorization_record
parameters: [?case, ?person, ?auth_kyc_doc]
preconditions of verify_person_authorization_record: the drawdown for ?case is open and ?auth_kyc_doc is a required document for case ?case and ?auth_kyc_doc is a document for ?person and ?auth_kyc_doc has been received and ?auth_kyc_doc is an authorization kyc record and ?case is a drawdown_case and ?person is a participant_person and ?auth_kyc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?auth_kyc_doc is a verified document
effects of verify_person_authorization_record: it becomes true that ?auth_kyc_doc is a verified document and ?person's authentication documents are verified -> verify {authorization_kyc_record ?auth_kyc_doc} for {participant_person ?person} in {drawdown_case ?case}
action: verify_person_contact_details
parameters: [?case, ?person]
preconditions of verify_person_contact_details: the drawdown for ?case is open and ?person's authentication documents are verified and ?person is in the required set and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and contact for ?person is verified
effects of verify_person_contact_details: it becomes true that contact for ?person is verified -> 
action: run_full_person_screening
parameters: [?case, ?person]
preconditions of run_full_person_screening: the drawdown for ?case is open and ?person is linked to the case ?case and ?person's authentication documents are verified and contact for ?person is verified and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and ?person has full clearance
effects of run_full_person_screening: it becomes true that ?person has been checked for sanctions and ?person has been pep checked and ?person has full clearance -> run full person screening for {participant_person ?person} on {drawdown_case ?case}
action: run_sanctions_screening_only
parameters: [?case, ?person]
preconditions of run_sanctions_screening_only: the drawdown for ?case is open and ?person is linked to the case ?case and ?person's authentication documents are verified and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and ?person has been checked for sanctions
effects of run_sanctions_screening_only: it becomes true that ?person has been checked for sanctions -> run sanctions screening only for {participant_person ?person} in {drawdown_case ?case}
action: run_pep_screening_only
parameters: [?case, ?person]
preconditions of run_pep_screening_only: the drawdown for ?case is open and ?person is linked to the case ?case and ?person's authentication documents are verified and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and ?person has been pep checked
effects of run_pep_screening_only: it becomes true that ?person has been pep checked -> 
action: complete_basic_drawdown_checks
parameters: [?case]
preconditions of complete_basic_drawdown_checks: the drawdown for ?case is open and ?case's borrowing base is verified and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case has completed basic drawdown checks
effects of complete_basic_drawdown_checks: it becomes true that availability for ?case has been calculated and ?case has its limit headroom confirmed and ?case has completed basic drawdown checks -> complete basic drawdown checks for {drawdown_case ?case} calculating availability and confirming limit headroom
action: enable_fast_track
parameters: [?case]
preconditions of enable_fast_track: the drawdown for ?case is open and ?case's borrowing base is verified and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and fast track is enabled for ?case
effects of enable_fast_track: it becomes true that fast track is enabled for ?case -> enable fast track for {drawdown_case ?case}
action: compile_drawdown_package
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2, ?borrowing_base_doc, ?covenant_statement_doc, ?compliance_cert_doc, ?use_of_proceeds_doc, ?fee_calc_doc]
preconditions of compile_drawdown_package: the drawdown for ?case is open and ?case's borrowing base is verified and the covenant statement for ?case is verified and the compliance certificate for ?case has been verified and the use of proceeds for ?case is verified and ?borrowing_base_doc is a document for case ?case and ?borrowing_base_doc is borrowing the base certificate and ?borrowing_base_doc is a verified document and ?covenant_statement_doc is a document for case ?case and ?covenant_statement_doc is a covenant compliance statement and ?covenant_statement_doc is a verified document and ?compliance_cert_doc is a document for case ?case and ?compliance_cert_doc is a compliance certificate and ?compliance_cert_doc is a verified document and ?use_of_proceeds_doc is a document for case ?case and ?use_of_proceeds_doc is a use of proceeds statement and ?use_of_proceeds_doc is a verified document and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc is a fee calculation sheet and ?fee_calc_doc is a verified document and ?borrower_signer_1 is required for ?case and ?borrower_signer_2 is required for ?case and ?bank_officer_1 is required for ?case and ?bank_officer_2 is required for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and ?case has completed basic drawdown checks and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and ?borrowing_base_doc is a drawdown_document and ?covenant_statement_doc is a drawdown_document and ?compliance_cert_doc is a drawdown_document and ?use_of_proceeds_doc is a drawdown_document and ?fee_calc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?case is a compiled drawdown package and ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2
effects of compile_drawdown_package: it becomes true that ?case is a compiled drawdown package -> 
action: approve_drawdown_package_four_eyes
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2]
preconditions of approve_drawdown_package_four_eyes: the drawdown for ?case is open and ?case is a compiled drawdown package and two officer signoff is recorded for ?case and ?borrower_signer_1 is required for ?case and ?borrower_signer_2 is required for ?case and ?bank_officer_1 is required for ?case and ?bank_officer_2 is required for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and it is not the case that ?case is drawdown locked and ?case is approved by credit ops and ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2
effects of approve_drawdown_package_four_eyes: it becomes true that ?case is approved by credit ops and ?case is approved for risk -> approve {drawdown_case ?case} for borrower signatories {borrower_signatory ?borrower_signer_1} and {borrower_signatory ?borrower_signer_2} by bank drawdown officers {bank_drawdown_officer
Revised: action: approve_drawdown_package_four_eyes
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2]
preconditions of approve_drawdown_package_four_eyes: the drawdown for ?case is open and ?case is a compiled drawdown package and two officer signoff is recorded for ?case and ?borrower_signer_1 is required for ?case and ?borrower_signer_2 is required for ?case and ?bank_officer_1 is required for ?case and ?bank_officer_2 is required for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and it is not the case that ?case is drawdown locked and ?case is approved by credit ops and ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2
effects of approve_drawdown_package_four_eyes: it becomes true that ?case is approved by credit ops and ?case is approved for risk -> 
action: approve_drawdown_package_fast_track
parameters: [?case]
preconditions of approve_drawdown_package_fast_track: the drawdown for ?case is open and fast track is enabled for ?case and ?case's borrowing base is verified and the covenant statement for ?case is verified and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case is approved by credit ops
effects of approve_drawdown_package_fast_track: it becomes true that ?case is approved by credit ops and ?case is auto approved -> approve fast-track drawdown package for {drawdown_case ?case}
action: authorize_packet_creation
parameters: [?case]
preconditions of authorize_packet_creation: the drawdown for ?case is open and ?case is approved by credit ops and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case has a compliance hold flag and ?case is flagged for suspicious payment and ?case is frozen during drawdown and packet creation for ?case is authorized
effects of authorize_packet_creation: it becomes true that packet creation for ?case is authorized -> authorize packet creation for {drawdown_case ?case}
action: raise_compliance_hold
parameters: [?case]
preconditions of raise_compliance_hold: the drawdown for ?case is open and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case has a compliance hold flag
effects of raise_compliance_hold: it becomes true that ?case has a compliance hold flag -> 
action: validate_facility_document
parameters: [?case, ?facility_doc]
preconditions of validate_facility_document: the drawdown for ?case is open and ?facility_doc is eligible for case ?case and packet creation for ?case is authorized and ?case is a drawdown_case and ?facility_doc is a facility_document and it is not the case that ?case is drawdown locked and the facility document ?facility_doc is validated
effects of validate_facility_document: it becomes true that the facility document ?facility_doc is validated -> validate {facility_document ?facility_doc} for {drawdown_case ?case}
action: create_drawdown_packet
parameters: [?case, ?packet, ?signature_slot_1, ?signature_slot_2]
preconditions of create_drawdown_packet: the drawdown for ?case is open and packet creation for ?case is authorized and ?case is a drawdown_case and ?packet is a drawdown_packet and ?signature_slot_1 is a signature_slot and ?signature_slot_2 is a signature_slot and it is not the case that ?case is drawdown locked and ?packet was created and ?signature_slot_1 is equal to ?signature_slot_2
effects of create_drawdown_packet: it becomes true that ?packet was created and ?packet is a packet for ?case and ?packet has signature slot ?signature_slot_1 and ?packet has signature slot ?signature_slot_2 -> 
action: attach_facility_document_to_packet
parameters: [?case, ?packet, ?facility_doc]
preconditions of attach_facility_document_to_packet: the drawdown for ?case is open and ?packet is a packet for ?case and ?packet was created and the facility document ?facility_doc is validated and ?case is a drawdown_case and ?packet is a drawdown_packet and ?facility_doc is a facility_document and it is not the case that ?case is drawdown locked and ?packet is finalized and ?packet is attached to the facility document ?facility_doc
effects of attach_facility_document_to_packet: it becomes true that ?packet is attached to the facility document ?facility_doc -> attach {facility_document ?facility_doc} to {drawdown_packet ?packet} for {drawdown_case ?case}
action: assign_signer_to_packet_slot
parameters: [?case, ?packet, ?borrower_signer, ?signature_slot]
preconditions of assign_signer_to_packet_slot: the drawdown for ?case is open and ?packet is a packet for ?case and ?packet was created and ?borrower_signer is required for ?case and ?borrower_signer's authentication documents are verified and contact for ?borrower_signer is verified and ?packet has signature slot ?signature_slot and ?case is a drawdown_case and ?packet is a drawdown_packet and ?borrower_signer is a borrower_signatory and ?signature_slot is a signature_slot and it is not the case that ?case is drawdown locked and ?packet is assigned to signer ?borrower_signer
effects of assign_signer_to_packet_slot: it becomes true that ?packet is assigned to signer ?borrower_signer and it is not the case anymore that ?packet has signature slot ?signature_slot -> assign {drawdown_packet ?packet} for {drawdown_case ?case} to {borrower_signatory ?borrower_signer} in {signature_slot ?signature_slot}
action: start_signature_collection
parameters: [?packet]
preconditions of start_signature_collection: ?packet was created and ?packet is a drawdown_packet and it is not the case that ?packet is finalized and signature collection has started for ?packet
effects of start_signature_collection: it becomes true that signature collection has started for ?packet -> start signature collection for {drawdown_packet ?packet}
action: capture_signer_signature
parameters: [?packet, ?borrower_signer]
preconditions of capture_signer_signature: signature collection has started for ?packet and ?packet is assigned to signer ?borrower_signer and ?packet is a drawdown_packet and ?borrower_signer is a borrower_signatory and it is not the case that ?packet contains the captured signature of ?borrower_signer
effects of capture_signer_signature: it becomes true that ?packet contains the captured signature of ?borrower_signer -> capture signature of {borrower_signatory ?borrower_signer} for {drawdown_packet ?packet}
action: verify_two_distinct_signatures
parameters: [?packet, ?borrower_signer_1, ?borrower_signer_2]
preconditions of verify_two_distinct_signatures: ?packet is assigned to signer ?borrower_signer_1 and ?packet is assigned to signer ?borrower_signer_2 and ?packet contains the captured signature of ?borrower_signer_1 and ?packet contains the captured signature of ?borrower_signer_2 and ?packet is a drawdown_packet and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and it is not the case that ?packet is verified by two signatures and ?borrower_signer_1 is equal to ?borrower_signer_2
effects of verify_two_distinct_signatures: it becomes true that ?packet is verified by two signatures -> verify two distinct signatures on {drawdown_packet ?packet} by {borrower_signatory ?borrower_signer_1} and {borrower_signatory ?borrower_signer_2}
action: perform_packet_compliance_check
parameters: [?packet]
preconditions of perform_packet_compliance_check: ?packet is verified by two signatures and ?packet is a drawdown_packet and it is not the case that ?packet has been checked for compliance
effects of perform_packet_compliance_check: it becomes true that ?packet has been checked for compliance -> perform compliance check on {drawdown_packet ?packet}
action: finalize_drawdown_packet
parameters: [?packet]
preconditions of finalize_drawdown_packet: ?packet has been checked for compliance and ?packet is a drawdown_packet and it is not the case that ?packet is finalized
effects of finalize_drawdown_packet: it becomes true that ?packet is finalized and it is not the case anymore that signature collection has started for ?packet -> finalize {drawdown_packet ?packet}
action: confirm_packet_has_three_facility_docs
parameters: [?case, ?packet, ?facility_doc_1, ?facility_doc_2, ?facility_doc_3]
preconditions of confirm_packet_has_three_facility_docs: the drawdown for ?case is open and ?packet is a packet for ?case and ?packet is finalized and ?packet is attached to the facility document ?facility_doc_1 and ?packet is attached to the facility document ?facility_doc_2 and ?packet is attached to the facility document ?facility_doc_3 and ?case is a drawdown_case and ?packet is a drawdown_packet and ?facility_doc_1 is a facility_document and ?facility_doc_2 is a facility_document and ?facility_doc_3 is a facility_document and it is not the case that ?case is drawdown locked and the drawdown packet for ?case is complete and ?facility_doc_1 is equal to ?facility_doc_2 and ?facility_doc_1 is equal to ?facility_doc_3 and ?facility_doc_2 is equal to ?facility_doc_3
effects of confirm_packet_has_three_facility_docs: it becomes true that the drawdown packet for ?case is complete -> 
action: reopen_packet_and_reset_signatures
parameters: [?case, ?packet, ?reopen_token, ?signature_slot_1, ?signature_slot_2]
preconditions of reopen_packet_and_reset_signatures: the drawdown for ?case is open and ?packet is a packet for ?case and ?packet was created and ?reopen_token is an available token and ?case is a drawdown_case and ?packet is a drawdown_packet and ?reopen_token is a reopen_key_token and ?signature_slot_1 is a signature_slot and ?signature_slot_2 is a signature_slot and it is not the case that ?case is drawdown locked and ?packet has been reopened
effects of reopen_packet_and_reset_signatures: it becomes true that ?packet has been reopened and ?reopen_token is consumed and ?packet has signature slot ?signature_slot_1 and ?packet has signature slot ?signature_slot_2 and it is not the case anymore that ?reopen_token is an available token and ?packet is finalized and ?packet has been checked for compliance and ?packet is verified by two signatures and signature collection has started for ?packet -> reopen {drawdown_packet ?packet} for {drawdown_case ?case} using {reopen_key_token ?reopen_token} and reset {signature_slot ?signature_slot_1} and {signature_slot ?signature_slot_2}
action: lock_case_for_execution
parameters: [?case, ?packet]
preconditions of lock_case_for_execution: the drawdown for ?case is open and the drawdown packet for ?case is complete and ?packet is a packet for ?case and ?packet is finalized and packet creation for ?case is authorized and ?case is a drawdown_case and ?packet is a drawdown_packet and it is not the case that ?case is drawdown locked and ?case is frozen during drawdown
effects of lock_case_for_execution: it becomes true that ?case is drawdown locked and it is not the case anymore that the drawdown for ?case is open -> lock {drawdown_case ?case} for execution with {drawdown_packet ?packet}
action: reopen_locked_case
parameters: [?case, ?reopen_token]
preconditions of reopen_locked_case: ?case is drawdown locked and ?reopen_token is an available token and ?case is a drawdown_case and ?reopen_token is a reopen_key_token and it is not the case that ?case is frozen during drawdown
effects of reopen_locked_case: it becomes true that the drawdown for ?case is open and ?case has a compliance hold flag and ?reopen_token is consumed and it is not the case anymore that ?case is drawdown locked and ?reopen_token is an available token -> reopen locked {drawdown_case ?case} with {reopen_key_token ?reopen_token}
action: freeze_case_due_to_suspicious_payment
parameters: [?case, ?payment_instruction]
preconditions of freeze_case_due_to_suspicious_payment: the drawdown for ?case is open and ?case is a drawdown_case and ?payment_instruction is a payment_instruction and it is not the case that ?case is drawdown locked and packet creation for ?case is authorized and ?case is frozen during drawdown
effects of freeze_case_due_to_suspicious_payment: it becomes true that ?case has payment instruction ?payment_instruction and ?case is flagged for suspicious payment and ?case is frozen during drawdown -> freeze {drawdown_case ?case} due to suspicious payment instruction {payment_instruction ?payment_instruction}
action: draft_payment_instruction
parameters: [?case, ?payment_instruction]
preconditions of draft_payment_instruction: ?case is drawdown locked and packet creation for ?case is authorized and the drawdown packet for ?case is complete and ?case is a drawdown_case and ?payment_instruction is a payment_instruction and it is not the case that a payment instruction has been drafted for ?case and ?case has payment instruction ?payment_instruction
effects of draft_payment_instruction: it becomes true that a payment instruction has been drafted for ?case and ?case has payment instruction ?payment_instruction and payment instruction ?payment_instruction has been created and payment instruction for ?case is validated -> draft payment instruction {payment_instruction ?payment_instruction} for {drawdown_case ?case}
action: validate_payment_instruction
parameters: [?case]
preconditions of validate_payment_instruction: ?case is drawdown locked and payment instruction for ?case is validated and ?case is a drawdown_case and it is not the case that the payment instruction for ?case is approved
effects of validate_payment_instruction: it becomes true that the payment instruction for ?case is approved -> validate payment instruction for {drawdown_case ?case}
action: approve_payment_instruction
parameters: [?case]
preconditions of approve_payment_instruction: ?case is drawdown locked and the payment instruction for ?case is approved and ?case is a drawdown_case and it is not the case that ?case is a payment instruction ready to be signed
effects of approve_payment_instruction: it becomes true that ?case is a payment instruction ready to be signed -> approve payment instruction for {drawdown_case ?case}
action: sign_payment_instruction
parameters: [?payment_instruction, ?case]
preconditions of sign_payment_instruction: ?case is drawdown locked and payment instruction ?payment_instruction has been created and ?case is a payment instruction ready to be signed and ?payment_instruction is a payment_instruction and ?case is a drawdown_case and it is not the case that ?payment_instruction is a signed payment instruction
effects of sign_payment_instruction: it becomes true that ?payment_instruction is a signed payment instruction -> sign {payment_instruction ?payment_instruction} for {drawdown_case ?case}
action: send_instruction_to_treasury
parameters: [?payment_instruction]
preconditions of send_instruction_to_treasury: ?payment_instruction is a signed payment instruction and ?payment_instruction is a payment_instruction and it is not the case that the payment instruction ?payment_instruction has been sent to the treasury
effects of send_instruction_to_treasury: it becomes true that the payment instruction ?payment_instruction has been sent to the treasury -> send {signed payment instruction ?payment_instruction} to the treasury
action: execute_treasury_release
parameters: [?payment_instruction, ?case, ?packet, ?facility_doc]
preconditions of execute_treasury_release: ?case is drawdown locked and packet creation for ?case is authorized and ?case is approved for risk and the payment instruction ?payment_instruction has been sent to the treasury and ?packet is a packet for ?case and ?packet is finalized and ?packet is attached to the facility document ?facility_doc and ?facility_doc is eligible for case ?case and ?facility_doc requires facility fx review and the covenant statement for ?case is verified and the use of proceeds for ?case is verified and ?payment_instruction is a payment_instruction and ?case is a drawdown_case and ?packet is a drawdown_packet and ?facility_doc is a facility_document and it is not the case that ?payment_instruction has been executed
effects of execute_treasury_release: it becomes true that ?payment_instruction has been executed -> execute treasury release of {payment_instruction ?payment_instruction} for {drawdown_case ?case} using {drawdown_packet ?packet} attached to {facility_document ?facility_doc}
action: reserve_wire_cutoff_window
parameters: [?payment_instruction, ?cutoff_window_token]
preconditions of reserve_wire_cutoff_window: ?payment_instruction has been executed and ?cutoff_window_token is an available token and ?payment_instruction is a payment_instruction and ?cutoff_window_token is a wire_cutoff_window_token and it is not the case that wire cutoff is reserved for ?payment_instruction
effects of reserve_wire_cutoff_window: it becomes true that wire cutoff is reserved for ?payment_instruction and ?cutoff_window_token is consumed and it is not the case anymore that ?cutoff_window_token is an available token -> reserve wire cutoff window {wire_cutoff_window_token ?cutoff_window_token} for {payment_instruction ?payment_instruction}
action: consume_cutoff_window_without_reservation
parameters: [?case, ?cutoff_window_token]
preconditions of consume_cutoff_window_without_reservation: ?case is drawdown locked and ?cutoff_window_token is an available token and ?case is a drawdown_case and ?cutoff_window_token is a wire_cutoff_window_token and it is not the case that ?case is frozen during drawdown
effects of consume_cutoff_window_without_reservation: it becomes true that ?cutoff_window_token is consumed and it is not the case anymore that ?cutoff_window_token is an available token -> consume {wire_cutoff_window_token ?cutoff_window_token} for {drawdown_case ?case} without reservation
action: release_wire_payment
parameters: [?payment_instruction]
preconditions of release_wire_payment: wire cutoff is reserved for ?payment_instruction and ?payment_instruction is a payment_instruction and it is not the case that the beneficiary is credited for ?payment_instruction and the wire for ?payment_instruction has been released
effects of release_wire_payment: it becomes true that the wire for ?payment_instruction has been released -> release wire for {payment_instruction ?payment_instruction}
action: confirm_beneficiary_credit
parameters: [?payment_instruction]
preconditions of confirm_beneficiary_credit: the wire for ?payment_instruction has been released and ?payment_instruction is a payment_instruction and it is not the case that the beneficiary is credited for ?payment_instruction
effects of confirm_beneficiary_credit: it becomes true that the beneficiary is credited for ?payment_instruction -> confirm beneficiary credit for {payment_instruction ?payment_instruction}
action: mark_funds_settled
parameters: [?payment_instruction]
preconditions of mark_funds_settled: the beneficiary is credited for ?payment_instruction and ?payment_instruction is a payment_instruction and it is not the case that ?payment_instruction funds are settled
effects of mark_funds_settled: it becomes true that ?payment_instruction funds are settled -> mark funds settled for {payment_instruction ?payment_instruction}
action: create_disbursement_notice
parameters: [?case, ?notice, ?borrower_signer, ?dispatch_window_token, ?packet, ?facility_doc]
preconditions of create_disbursement_notice: ?case is drawdown locked and ?dispatch_window_token is an available token and ?packet is a packet for ?case and ?packet is finalized and ?packet is attached to the facility document ?facility_doc and ?facility_doc is eligible for case ?case and ?facility_doc requires agent notice and ?borrower_signer is required for ?case and ?borrower_signer has full clearance and ?case is a drawdown_case and ?notice is a disbursement_notice and ?borrower_signer is a borrower_signatory and ?dispatch_window_token is a notice_dispatch_window_token and ?packet is a drawdown_packet and ?facility_doc is a facility_document and it is not the case that ?notice is addressed to the signer ?borrower_signer in case ?case
effects of create_disbursement_notice: it becomes true that ?notice is addressed to the signer ?borrower_signer in case ?case and ?notice has been created and ?dispatch_window_token is consumed and it is not the case anymore that ?dispatch_window_token is an available token -> create {disbursement_notice ?notice} for {drawdown_case ?case} addressed to {borrower_signatory ?borrower_signer} consuming {notice_dispatch_window_token ?dispatch_window_token} using {drawdown_packet ?packet} attached to {facility_document ?facility_doc}
action: approve_disbursement_notice
parameters: [?notice]
preconditions of approve_disbursement_notice: ?notice has been created and ?notice is a disbursement_notice and it is not the case that ?notice has been approved
effects of approve_disbursement_notice: it becomes true that ?notice has been approved -> approve {disbursement_notice ?notice}
action: create_notice_delivery_package
parameters: [?delivery_package, ?notice]
preconditions of create_notice_delivery_package: ?notice has been created and ?notice has been approved and ?delivery_package is a delivery_package and ?notice is a disbursement_notice and it is not the case that ?delivery_package delivery package has been created
effects of create_notice_delivery_package: it becomes true that ?delivery_package delivery package has been created and ?delivery_package is a package for ?notice -> create {delivery_package ?delivery_package} for {disbursement_notice ?notice}
action: apply_delivery_label
parameters: [?delivery_package, ?delivery_slot_token]
preconditions of apply_delivery_label: ?delivery_package delivery package has been created and ?delivery_slot_token is an available token and ?delivery_package is a delivery_package and ?delivery_slot_token is a delivery_slot_token and it is not the case that ?delivery_package is a labeled package
effects of apply_delivery_label: it becomes true that ?delivery_package is a labeled package and ?delivery_slot_token is consumed and it is not the case anymore that ?delivery_slot_token is an available token -> apply delivery label to {delivery_package ?delivery_package} with {delivery_slot_token ?delivery_slot_token}
action: assign_senior_override_review
parameters: [?case, ?delivery_slot_token]
preconditions of assign_senior_override_review: ?case is drawdown locked and ?delivery_slot_token is an available token and ?case is a drawdown_case and ?delivery_slot_token is a delivery_slot_token and it is not the case that ?case has a senior override assigned
effects of assign_senior_override_review: it becomes true that ?case has a senior override assigned and ?delivery_slot_token is consumed and it is not the case anymore that ?delivery_slot_token is an available token -> assign senior override review to {drawdown_case ?case} using {delivery_slot_token ?delivery_slot_token}
action: print_delivery_label
parameters: [?delivery_package]
preconditions of print_delivery_label: ?delivery_package is a labeled package and ?delivery_package is a delivery_package and it is not the case that ?delivery_package has a printed label
effects of print_delivery_label: it becomes true that ?delivery_package has a printed label -> print delivery label for {delivery_package ?delivery_package}
action: scan_delivery_label
parameters: [?delivery_package]
preconditions of scan_delivery_label: ?delivery_package has a printed label and ?delivery_package is a delivery_package and it is not the case that ?delivery_package's label has been scanned
effects of scan_delivery_label: it becomes true that ?delivery_package's label has been scanned -> scan label of {delivery_package ?delivery_package}
action: mark_notice_ready
parameters: [?notice]
preconditions of mark_notice_ready: ?notice is ready to send and ?notice is a disbursement_notice
effects of mark_notice_ready: it becomes true that ?notice is ready to send -> mark {disbursement_notice ?notice} ready to send
action: send_notice_via_secure_delivery
parameters: [?notice, ?payment_instruction, ?case, ?delivery_package, ?borrower_signer]
preconditions of send_notice_via_secure_delivery: ?case is drawdown locked and ?notice is addressed to the signer ?borrower_signer in case ?case and ?notice has been created and ?case has payment instruction ?payment_instruction and payment instruction ?payment_instruction has been created and ?delivery_package is a package for ?notice and ?delivery_package's label has been scanned and ?notice is ready to send and ?notice is a disbursement_notice and ?payment_instruction is a payment_instruction and ?case is a drawdown_case and ?delivery_package is a delivery_package and ?borrower_signer is a borrower_signatory and it is not the case that ?case is frozen during drawdown and ?notice has been sent
effects of send_notice_via_secure_delivery: it becomes true that ?notice has been sent -> send {disbursement_notice ?notice} via secure delivery in {delivery_package ?delivery_package} for {drawdown_case ?case} with {payment_instruction ?payment_instruction} to {borrower_signatory ?borrower_signer}
action: complete_final_controls
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2, ?payment_instruction, ?notice]
preconditions of complete_final_controls: ?case is drawdown locked and packet creation for ?case is authorized and ?case is approved for risk and ?case is a compiled drawdown package and two officer signoff is recorded for ?case and ?borrower_signer_1 is required for ?case and ?borrower_signer_2 is required for ?case and ?bank_officer_1 is required for ?case and ?bank_officer_2 is required for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and ?payment_instruction funds are settled and ?notice has been sent and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and ?payment_instruction is a payment_instruction and ?notice is a disbursement_notice and it is not the case that ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2 and ?case has a compliance hold flag and ?case is flagged for suspicious payment and ?case is frozen during drawdown and final controls are complete for ?case
effects of complete_final_controls: it becomes true that final controls are complete for ?case -> 
action: close_drawdown_case
parameters: [?case, ?payment_instruction, ?notice]
preconditions of close_drawdown_case: ?case is drawdown locked and final controls are complete for ?case and payment instruction ?payment_instruction has been created and ?payment_instruction has been executed and the beneficiary is credited for ?payment_instruction and ?notice has been sent and ?case is a drawdown_case and ?payment_instruction is a payment_instruction and ?notice is a disbursement_notice and it is not the case that drawdown for ?case is completed
effects of close_drawdown_case: it becomes true that drawdown for ?case is completed and it is not the case anymore that ?case is drawdown locked -> close drawdown case {drawdown_case ?case} with {payment_instruction ?payment_instruction} and {disbursement_notice ?notice}
(drawdown_open ?case) -> the drawdown for {?case} is open
(drawdown_locked ?case) -> {?case} is drawdown locked
(drawdown_completed ?case) -> the drawdown for {?case} is completed
(drawdown_frozen ?case) -> {?case} has a frozen drawdown
(compliance_hold_flag ?case) -> {?case} has a compliance hold flag
(suspicious_payment_flag ?case) -> {?case} has a suspicious payment flag
(wire_released ?payment_instruction) -> {?payment_instruction} has been released by wire
(notice_created ?notice) -> {?notice} has been created
(facility_requires_fx_review ?facility_doc) -> {?facility_doc} requires fx review
(facility_requires_agent_notice ?facility_doc) -> the facility requires agent notice for {?facility_doc}
(channel_selected ?case ?channel) -> {?channel} is selected for case {?case}
(facility_selected ?case ?facility_doc) -> the facility {?facility_doc} is selected for case {?case}
(required_person ?case ?person) -> {?person} is the required person for {?case}
(person_linked_to_case ?case ?person) -> {?person} is linked to the case {?case}
(required_document ?case ?doc) -> {?doc} is a required document for {?case}
(document_for_case ?doc ?case) -> {?doc} is a document for case {?case}
(document_for_person ?doc ?person) -> {?doc} is a document for {?person}
(document_received ?doc) -> {?doc} has been received
(document_verified ?doc) -> {?doc} is verified
(doc_is_borrowing_base_certificate ?doc) -> {?doc} is borrowing the base certificate
(doc_is_compliance_certificate ?doc) -> the document {?doc} is a compliance certificate
(doc_is_covenant_compliance_statement ?doc) -> {?doc} is a covenant compliance statement
(doc_is_fee_calculation_sheet ?doc) -> {?doc} is a fee calculation sheet
(doc_is_use_of_proceeds_statement ?doc) -> {?doc} is a use of proceeds statement
(doc_is_authorization_kyc_record ?doc) -> {?doc} is an authorization kyc record
(borrowing_base_verified ?case) -> {?case} has a verified borrowing base
(compliance_certificate_verified ?case) -> {?case} has a verified compliance certificate
(covenant_statement_verified ?case) -> the covenant statement for {?case} is verified
(use_of_proceeds_verified ?case) -> the use of proceeds for {?case} has been verified
(two_officer_signoff_recorded ?case) -> a two-officer signoff is recorded for {?case}
(person_auth_doc_verified ?person) -> {?person} has their authorization documents verified
(person_contact_verified ?person) -> {?person}'s contact is verified
(person_in_required_set ?person) -> {?person} is in the required set
(person_sanctions_checked ?person) -> sanctions have been checked for {?person}
(person_pep_checked ?person) -> {?person} has been pep checked
(person_full_clearance ?person) -> {?person} has full clearance
(availability_calculated ?case) -> availability for {?case} has been calculated
(limit_headroom_confirmed ?case) -> limit headroom is confirmed for {?case}
(basic_drawdown_checks_complete ?case) -> basic drawdown checks are complete for {?case}
(fast_track_enabled ?case) -> {?case} has fast track enabled
(drawdown_package_compiled ?case) -> the drawdown package for {?case} is compiled
(credit_ops_approved ?case) -> {?case} is approved by credit operations
(risk_approved ?case) -> {?case} is approved for risk
(auto_approved ?case) -> {?case} is auto approved
(packet_creation_authorized ?case) -> {?case} is authorized for packet creation
(facility_eligible_for_case ?case ?facility_doc) -> the facility {?facility_doc} is eligible for the case {?case}
(facility_document_validated ?facility_doc) -> {?facility_doc} is a validated facility document
(packet_for_case ?packet ?case) -> {?packet} is a packet for case {?case}
(packet_created ?packet) -> {?packet} has been created
(packet_attached_facility_document ?packet ?facility_doc) -> {?packet} is attached to the facility document {?facility_doc}
(packet_assigned_signer ?packet ?borrower_signer) -> {?packet} is assigned to signer {?borrower_signer}
(packet_has_signature_slot ?packet ?signature_slot) -> {?packet} has signature slot {?signature_slot}
(signature_collection_started ?packet) -> signature collection has started for {?packet}
(signature_captured ?packet ?borrower_signer) -> {?borrower_signer}'s signature is captured on {?packet}
(two_signatures_verified ?packet) -> the two signatures on {?packet} are verified
(packet_compliance_checked ?packet) -> {?packet} has been checked for packet compliance
(packet_finalized ?packet) -> {?packet} is finalized
(drawdown_packet_complete ?case) -> the drawdown packet for {?case} is complete
(packet_reopened ?packet) -> {?packet} has been reopened
(payment_instruction_drafted ?case) -> a payment instruction has been drafted for {?case}
(case_has_payment_instruction ?case ?payment_instruction) -> {?case} has the payment instruction {?payment_instruction}
(payment_instruction_created ?payment_instruction) -> {?payment_instruction} payment instruction was created
(payment_instruction_validated ?case) -> {?case} payment instruction has been validated
(payment_instruction_approved ?case) -> the payment instruction for {?case} is approved
(payment_instruction_ready_to_sign ?case) -> the payment instruction for {?case} is ready to be signed
(payment_instruction_signed ?payment_instruction) -> {?payment_instruction} is a signed payment instruction
(payment_instruction_sent_to_treasury ?payment_instruction) -> {?payment_instruction} is sent to the treasury
(payment_instruction_executed ?payment_instruction) -> {?payment_instruction} payment instruction has been executed
(beneficiary_credited ?payment_instruction) -> the beneficiary of {?payment_instruction} is credited
(funds_settled ?payment_instruction) -> funds for {?payment_instruction} are settled
(token_available ?token) -> {?token} is available
(token_consumed ?token) -> {?token} is consumed
(wire_cutoff_reserved ?payment_instruction) -> wire cutoff is reserved for {?payment_instruction}
(notice_addressed_to_signer ?notice ?case ?borrower_signer) -> {?notice} is addressed to the signer {?borrower_signer} in case {?case}
(notice_approved ?notice) -> {?notice} is approved
(delivery_package_created ?delivery_package) -> the delivery package {?delivery_package} has been created
(package_for_notice ?delivery_package ?notice) -> the package {?delivery_package} is for the notice {?notice}
(package_labeled ?delivery_package) -> {?delivery_package} is a labeled package
(label_printed ?delivery_package) -> {?delivery_package} has a printed label
(label_scanned ?delivery_package) -> the label of {?delivery_package} has been scanned
(notice_ready_to_send ?notice) -> {?notice} is ready to be sent
(notice_sent ?notice) -> {?notice} has been sent
(senior_override_assigned ?case) -> {?case} is assigned a senior override
(final_controls_complete ?case) -> final controls are complete for {?case}
(= ?x1 ?x2) -> {?x1} is equal to {?x2}
(!= ?x1 ?x2) -> {?x1} is not equal to {?x2}
action: open_drawdown_case
parameters: [?case]
preconditions of open_drawdown_case: ?case is a drawdown_case and it is not the case that the drawdown for ?case is open and the drawdown for ?case is completed and ?case has a frozen drawdown
effects of open_drawdown_case: it becomes true that the drawdown for ?case is open -> open drawdown for {drawdown_case ?case}
action: select_request_channel
parameters: [?case, ?channel]
preconditions of select_request_channel: the drawdown for ?case is open and ?case is a drawdown_case and ?channel is a request_channel and it is not the case that ?case is drawdown locked and ?case has a frozen drawdown
effects of select_request_channel: it becomes true that ?channel is selected for case ?case -> select {request_channel ?channel} for {drawdown_case ?case}
action: select_facility_document
parameters: [?case, ?facility_doc]
preconditions of select_facility_document: the drawdown for ?case is open and ?case is a drawdown_case and ?facility_doc is a facility_document and it is not the case that ?case is drawdown locked and ?case has a frozen drawdown
effects of select_facility_document: it becomes true that the facility ?facility_doc is selected for case ?case -> select {facility_document ?facility_doc} for {drawdown_case ?case}
action: verify_borrowing_base_certificate
parameters: [?case, ?borrowing_base_doc]
preconditions of verify_borrowing_base_certificate: the drawdown for ?case is open and ?borrowing_base_doc is a required document for ?case and ?borrowing_base_doc is a document for case ?case and ?borrowing_base_doc has been received and ?borrowing_base_doc is borrowing the base certificate and ?case is a drawdown_case and ?borrowing_base_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?borrowing_base_doc is verified
effects of verify_borrowing_base_certificate: it becomes true that ?borrowing_base_doc is verified and ?case has a verified borrowing base -> verify borrowing base certificate for {drawdown_case ?case} using {drawdown_document ?borrowing_base_doc}
action: verify_compliance_certificate
parameters: [?case, ?compliance_cert_doc]
preconditions of verify_compliance_certificate: the drawdown for ?case is open and ?compliance_cert_doc is a required document for ?case and ?compliance_cert_doc is a document for case ?case and ?compliance_cert_doc has been received and the document ?compliance_cert_doc is a compliance certificate and ?case is a drawdown_case and ?compliance_cert_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?compliance_cert_doc is verified
effects of verify_compliance_certificate: it becomes true that ?compliance_cert_doc is verified and ?case has a verified compliance certificate -> verify compliance certificate {drawdown_document ?compliance_cert_doc} for {drawdown_case ?case}
action: verify_covenant_compliance_statement
parameters: [?case, ?covenant_statement_doc]
preconditions of verify_covenant_compliance_statement: the drawdown for ?case is open and ?covenant_statement_doc is a required document for ?case and ?covenant_statement_doc is a document for case ?case and ?covenant_statement_doc has been received and ?covenant_statement_doc is a covenant compliance statement and ?case is a drawdown_case and ?covenant_statement_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?covenant_statement_doc is verified
effects of verify_covenant_compliance_statement: it becomes true that ?covenant_statement_doc is verified and the covenant statement for ?case is verified -> verify covenant compliance statement {drawdown_document ?covenant_statement_doc} for {drawdown_case ?case}
action: verify_use_of_proceeds_statement
parameters: [?case, ?use_of_proceeds_doc]
preconditions of verify_use_of_proceeds_statement: the drawdown for ?case is open and ?use_of_proceeds_doc is a required document for ?case and ?use_of_proceeds_doc is a document for case ?case and ?use_of_proceeds_doc has been received and ?use_of_proceeds_doc is a use of proceeds statement and ?case is a drawdown_case and ?use_of_proceeds_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?use_of_proceeds_doc is verified
effects of verify_use_of_proceeds_statement: it becomes true that ?use_of_proceeds_doc is verified and the use of proceeds for ?case has been verified -> verify {use_of_proceeds_statement ?use_of_proceeds_doc} for {drawdown_case ?case}
action: verify_fee_calculation_sheet
parameters: [?case, ?fee_calc_doc]
preconditions of verify_fee_calculation_sheet: the drawdown for ?case is open and ?fee_calc_doc is a required document for ?case and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc has been received and ?fee_calc_doc is a fee calculation sheet and ?case is a drawdown_case and ?fee_calc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?fee_calc_doc is verified
effects of verify_fee_calculation_sheet: it becomes true that ?fee_calc_doc is verified -> verify {drawdown_document ?fee_calc_doc} for {drawdown_case ?case}
action: record_two_officer_signoff
parameters: [?case, ?fee_calc_doc, ?officer_1, ?officer_2]
preconditions of record_two_officer_signoff: the drawdown for ?case is open and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc is a fee calculation sheet and ?fee_calc_doc is verified and ?officer_1 is the required person for ?case and ?officer_2 is the required person for ?case and ?officer_1 has full clearance and ?officer_2 has full clearance and ?case is a drawdown_case and ?fee_calc_doc is a drawdown_document and ?officer_1 is a bank_drawdown_officer and ?officer_2 is a bank_drawdown_officer and it is not the case that ?case is drawdown locked and ?officer_1 is equal to ?officer_2
effects of record_two_officer_signoff: it becomes true that a two-officer signoff is recorded for ?case -> record two-officer signoff for {drawdown_case ?case} on {fee_calculation_sheet ?fee_calc_doc} by {bank_drawdown_officer ?officer_1} and {bank_drawdown_officer ?officer_2}
action: verify_person_authorization_record
parameters: [?case, ?person, ?auth_kyc_doc]
preconditions of verify_person_authorization_record: the drawdown for ?case is open and ?auth_kyc_doc is a required document for ?case and ?auth_kyc_doc is a document for ?person and ?auth_kyc_doc has been received and ?auth_kyc_doc is an authorization kyc record and ?case is a drawdown_case and ?person is a participant_person and ?auth_kyc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?auth_kyc_doc is verified
effects of verify_person_authorization_record: it becomes true that ?auth_kyc_doc is verified and ?person has their authorization documents verified -> 
action: verify_person_contact_details
parameters: [?case, ?person]
preconditions of verify_person_contact_details: the drawdown for ?case is open and ?person has their authorization documents verified and ?person is in the required set and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and ?person's contact is verified
effects of verify_person_contact_details: it becomes true that ?person's contact is verified -> verify {participant_person ?person}'s contact details for {drawdown_case ?case}
action: run_full_person_screening
parameters: [?case, ?person]
preconditions of run_full_person_screening: the drawdown for ?case is open and ?person is linked to the case ?case and ?person has their authorization documents verified and ?person's contact is verified and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and ?person has full clearance
effects of run_full_person_screening: it becomes true that sanctions have been checked for ?person and ?person has been pep checked and ?person has full clearance -> run full person screening for {participant_person ?person} on {drawdown_case ?case}
action: run_sanctions_screening_only
parameters: [?case, ?person]
preconditions of run_sanctions_screening_only: the drawdown for ?case is open and ?person is linked to the case ?case and ?person has their authorization documents verified and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and sanctions have been checked for ?person
effects of run_sanctions_screening_only: it becomes true that sanctions have been checked for ?person -> run sanctions screening for {drawdown_case ?case} on {participant_person ?person}
action: run_pep_screening_only
parameters: [?case, ?person]
preconditions of run_pep_screening_only: the drawdown for ?case is open and ?person is linked to the case ?case and ?person has their authorization documents verified and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and ?person has been pep checked
effects of run_pep_screening_only: it becomes true that ?person has been pep checked -> run pep screening only for {participant_person ?person} on {drawdown_case ?case}
action: complete_basic_drawdown_checks
parameters: [?case]
preconditions of complete_basic_drawdown_checks: the drawdown for ?case is open and ?case has a verified borrowing base and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and basic drawdown checks are complete for ?case
effects of complete_basic_drawdown_checks: it becomes true that availability for ?case has been calculated and limit headroom is confirmed for ?case and basic drawdown checks are complete for ?case -> complete basic drawdown checks for {drawdown_case ?case}
action: enable_fast_track
parameters: [?case]
preconditions of enable_fast_track: the drawdown for ?case is open and ?case has a verified borrowing base and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case has fast track enabled
effects of enable_fast_track: it becomes true that ?case has fast track enabled -> enable fast track for {drawdown_case ?case}
action: compile_drawdown_package
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2, ?borrowing_base_doc, ?covenant_statement_doc, ?compliance_cert_doc, ?use_of_proceeds_doc, ?fee_calc_doc]
preconditions of compile_drawdown_package: the drawdown for ?case is open and ?case has a verified borrowing base and the covenant statement for ?case is verified and ?case has a verified compliance certificate and the use of proceeds for ?case has been verified and ?borrowing_base_doc is a document for case ?case and ?borrowing_base_doc is borrowing the base certificate and ?borrowing_base_doc is verified and ?covenant_statement_doc is a document for case ?case and ?covenant_statement_doc is a covenant compliance statement and ?covenant_statement_doc is verified and ?compliance_cert_doc is a document for case ?case and the document ?compliance_cert_doc is a compliance certificate and ?compliance_cert_doc is verified and ?use_of_proceeds_doc is a document for case ?case and ?use_of_proceeds_doc is a use of proceeds statement and ?use_of_proceeds_doc is verified and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc is a fee calculation sheet and ?fee_calc_doc is verified and ?borrower_signer_1 is the required person for ?case and ?borrower_signer_2 is the required person for ?case and ?bank_officer_1 is the required person for ?case and ?bank_officer_2 is the required person for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and basic drawdown checks are complete for ?case and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and ?borrowing_base_doc is a drawdown_document and ?covenant_statement_doc is a drawdown_document and ?compliance_cert_doc is a drawdown_document and ?use_of_proceeds_doc is a drawdown_document and ?fee_calc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and the drawdown package for ?case is compiled and ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2
effects of compile_drawdown_package: it becomes true that the drawdown package for ?case is compiled -> 
action: approve_drawdown_package_four_eyes
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2]
preconditions of approve_drawdown_package_four_eyes: the drawdown for ?case is open and the drawdown package for ?case is compiled and a two-officer signoff is recorded for ?case and ?borrower_signer_1 is the required person for ?case and ?borrower_signer_2 is the required person for ?case and ?bank_officer_1 is the required person for ?case and ?bank_officer_2 is the required person for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and it is not the case that ?case is drawdown locked and ?case is approved by credit operations and ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2
effects of approve_drawdown_package_four_eyes: it becomes true that ?case is approved by credit operations and ?case is approved for risk -> approve drawdown package for {drawdown_case ?case} by {borrower_signatory ?borrower_signer_1} and {borrower_signatory ?borrower_signer_2} with approvals from {bank_drawdown_officer ?bank_officer_1} and {bank_drawdown_officer ?bank_officer_2}
action: approve_drawdown_package_fast_track
parameters: [?case]
preconditions of approve_drawdown_package_fast_track: the drawdown for ?case is open and ?case has fast track enabled and ?case has a verified borrowing base and the covenant statement for ?case is verified and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case is approved by credit operations
effects of approve_drawdown_package_fast_track: it becomes true that ?case is approved by credit operations and ?case is auto approved -> approve fast-track drawdown package for {case ?case}
action: authorize_packet_creation
parameters: [?case]
preconditions of authorize_packet_creation: the drawdown for ?case is open and ?case is approved by credit operations and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case has a compliance hold flag and ?case has a suspicious payment flag and ?case has a frozen drawdown and ?case is authorized for packet creation
effects of authorize_packet_creation: it becomes true that ?case is authorized for packet creation -> authorize packet creation for {drawdown_case ?case}
action: raise_compliance_hold
parameters: [?case]
preconditions of raise_compliance_hold: the drawdown for ?case is open and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case has a compliance hold flag
effects of raise_compliance_hold: it becomes true that ?case has a compliance hold flag -> raise compliance hold on {drawdown_case ?case}
action: validate_facility_document
parameters: [?case, ?facility_doc]
preconditions of validate_facility_document: the drawdown for ?case is open and the facility ?facility_doc is eligible for the case ?case and ?case is authorized for packet creation and ?case is a drawdown_case and ?facility_doc is a facility_document and it is not the case that ?case is drawdown locked and ?facility_doc is a validated facility document
effects of validate_facility_document: it becomes true that ?facility_doc is a validated facility document -> validate {facility_document ?facility_doc} for {drawdown_case ?case}
action: create_drawdown_packet
parameters: [?case, ?packet, ?signature_slot_1, ?signature_slot_2]
preconditions of create_drawdown_packet: the drawdown for ?case is open and ?case is authorized for packet creation and ?case is a drawdown_case and ?packet is a drawdown_packet and ?signature_slot_1 is a signature_slot and ?signature_slot_2 is a signature_slot and it is not the case that ?case is drawdown locked and ?packet has been created and ?signature_slot_1 is equal to ?signature_slot_2
effects of create_drawdown_packet: it becomes true that ?packet has been created and ?packet is a packet for case ?case and ?packet has signature slot ?signature_slot_1 and ?packet has signature slot ?signature_slot_2 -> create drawdown packet {drawdown_packet ?packet} for {drawdown_case ?case} with signature slots {signature_slot ?signature_slot_1} and {signature_slot ?signature_slot_2}
action: attach_facility_document_to_packet
parameters: [?case, ?packet, ?facility_doc]
preconditions of attach_facility_document_to_packet: the drawdown for ?case is open and ?packet is a packet for case ?case and ?packet has been created and ?facility_doc is a validated facility document and ?case is a drawdown_case and ?packet is a drawdown_packet and ?facility_doc is a facility_document and it is not the case that ?case is drawdown locked and ?packet is finalized and ?packet is attached to the facility document ?facility_doc
effects of attach_facility_document_to_packet: it becomes true that ?packet is attached to the facility document ?facility_doc -> attach {facility_document ?facility_doc} to {drawdown_packet ?packet} for {drawdown_case ?case}
action: assign_signer_to_packet_slot
parameters: [?case, ?packet, ?borrower_signer, ?signature_slot]
preconditions of assign_signer_to_packet_slot: the drawdown for ?case is open and ?packet is a packet for case ?case and ?packet has been created and ?borrower_signer is the required person for ?case and ?borrower_signer has their authorization documents verified and ?borrower_signer's contact is verified and ?packet has signature slot ?signature_slot and ?case is a drawdown_case and ?packet is a drawdown_packet and ?borrower_signer is a borrower_signatory and ?signature_slot is a signature_slot and it is not the case that ?case is drawdown locked and ?packet is assigned to signer ?borrower_signer
effects of assign_signer_to_packet_slot: it becomes true that ?packet is assigned to signer ?borrower_signer and it is not the case anymore that ?packet has signature slot ?signature_slot -> assign {borrower_signatory ?borrower_signer} to slot {signature_slot ?signature_slot} on {drawdown_packet ?packet} for {drawdown_case ?case}
action: start_signature_collection
parameters: [?packet]
preconditions of start_signature_collection: ?packet has been created and ?packet is a drawdown_packet and it is not the case that ?packet is finalized and signature collection has started for ?packet
effects of start_signature_collection: it becomes true that signature collection has started for ?packet -> start signature collection for {drawdown_packet ?packet}
action: capture_signer_signature
parameters: [?packet, ?borrower_signer]
preconditions of capture_signer_signature: signature collection has started for ?packet and ?packet is assigned to signer ?borrower_signer and ?packet is a drawdown_packet and ?borrower_signer is a borrower_signatory and it is not the case that ?borrower_signer's signature is captured on ?packet
effects of capture_signer_signature: it becomes true that ?borrower_signer's signature is captured on ?packet -> capture signature for {drawdown_packet ?packet} from {borrower_signatory ?borrower_signer}
action: verify_two_distinct_signatures
parameters: [?packet, ?borrower_signer_1, ?borrower_signer_2]
preconditions of verify_two_distinct_signatures: ?packet is assigned to signer ?borrower_signer_1 and ?packet is assigned to signer ?borrower_signer_2 and ?borrower_signer_1's signature is captured on ?packet and ?borrower_signer_2's signature is captured on ?packet and ?packet is a drawdown_packet and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and it is not the case that the two signatures on ?packet are verified and ?borrower_signer_1 is equal to ?borrower_signer_2
effects of verify_two_distinct_signatures: it becomes true that the two signatures on ?packet are verified -> 
action: perform_packet_compliance_check
parameters: [?packet]
preconditions of perform_packet_compliance_check: the two signatures on ?packet are verified and ?packet is a drawdown_packet and it is not the case that ?packet has been checked for packet compliance
effects of perform_packet_compliance_check: it becomes true that ?packet has been checked for packet compliance -> check packet compliance for {drawdown_packet ?packet}
action: finalize_drawdown_packet
parameters: [?packet]
preconditions of finalize_drawdown_packet: ?packet has been checked for packet compliance and ?packet is a drawdown_packet and it is not the case that ?packet is finalized
effects of finalize_drawdown_packet: it becomes true that ?packet is finalized and it is not the case anymore that signature collection has started for ?packet -> 
action: confirm_packet_has_three_facility_docs
parameters: [?case, ?packet, ?facility_doc_1, ?facility_doc_2, ?facility_doc_3]
preconditions of confirm_packet_has_three_facility_docs: the drawdown for ?case is open and ?packet is a packet for case ?case and ?packet is finalized and ?packet is attached to the facility document ?facility_doc_1 and ?packet is attached to the facility document ?facility_doc_2 and ?packet is attached to the facility document ?facility_doc_3 and ?case is a drawdown_case and ?packet is a drawdown_packet and ?facility_doc_1 is a facility_document and ?facility_doc_2 is a facility_document and ?facility_doc_3 is a facility_document and it is not the case that ?case is drawdown locked and the drawdown packet for ?case is complete and ?facility_doc_1 is equal to ?facility_doc_2 and ?facility_doc_1 is equal to ?facility_doc_3 and ?facility_doc_2 is equal to ?facility_doc_3
effects of confirm_packet_has_three_facility_docs: it becomes true that the drawdown packet for ?case is complete -> 
action: reopen_packet_and_reset_signatures
parameters: [?case, ?packet, ?reopen_token, ?signature_slot_1, ?signature_slot_2]
preconditions of reopen_packet_and_reset_signatures: the drawdown for ?case is open and ?packet is a packet for case ?case and ?packet has been created and ?reopen_token is available and ?case is a drawdown_case and ?packet is a drawdown_packet and ?reopen_token is a reopen_key_token and ?signature_slot_1 is a signature_slot and ?signature_slot_2 is a signature_slot and it is not the case that ?case is drawdown locked and ?packet has been reopened
effects of reopen_packet_and_reset_signatures: it becomes true that ?packet has been reopened and ?reopen_token is consumed and ?packet has signature slot ?signature_slot_1 and ?packet has signature slot ?signature_slot_2 and it is not the case anymore that ?reopen_token is available and ?packet is finalized and ?packet has been checked for packet compliance and the two signatures on ?packet are verified and signature collection has started for ?packet -> reopen {drawdown_packet ?packet} for {drawdown_case ?case} using {reopen_key_token ?reopen_token} and reset signature slots {signature_slot ?signature_slot_1} and {signature_slot ?signature_slot_2}
action: lock_case_for_execution
parameters: [?case, ?packet]
preconditions of lock_case_for_execution: the drawdown for ?case is open and the drawdown packet for ?case is complete and ?packet is a packet for case ?case and ?packet is finalized and ?case is authorized for packet creation and ?case is a drawdown_case and ?packet is a drawdown_packet and it is not the case that ?case is drawdown locked and ?case has a frozen drawdown
effects of lock_case_for_execution: it becomes true that ?case is drawdown locked and it is not the case anymore that the drawdown for ?case is open -> lock {drawdown_case ?case} for execution with {drawdown_packet ?packet}
action: reopen_locked_case
parameters: [?case, ?reopen_token]
preconditions of reopen_locked_case: ?case is drawdown locked and ?reopen_token is available and ?case is a drawdown_case and ?reopen_token is a reopen_key_token and it is not the case that ?case has a frozen drawdown
effects of reopen_locked_case: it becomes true that the drawdown for ?case is open and ?case has a compliance hold flag and ?reopen_token is consumed and it is not the case anymore that ?case is drawdown locked and ?reopen_token is available -> reopen drawdown for {drawdown_case ?case} with {reopen_key_token ?reopen_token}
action: freeze_case_due_to_suspicious_payment
parameters: [?case, ?payment_instruction]
preconditions of freeze_case_due_to_suspicious_payment: the drawdown for ?case is open and ?case is a drawdown_case and ?payment_instruction is a payment_instruction and it is not the case that ?case is drawdown locked and ?case is authorized for packet creation and ?case has a frozen drawdown
effects of freeze_case_due_to_suspicious_payment: it becomes true that ?case has the payment instruction ?payment_instruction and ?case has a suspicious payment flag and ?case has a frozen drawdown -> freeze drawdown case {drawdown_case ?case} due to suspicious payment instruction {payment_instruction ?payment_instruction}
action: draft_payment_instruction
parameters: [?case, ?payment_instruction]
preconditions of draft_payment_instruction: ?case is drawdown locked and ?case is authorized for packet creation and the drawdown packet for ?case is complete and ?case is a drawdown_case and ?payment_instruction is a payment_instruction and it is not the case that a payment instruction has been drafted for ?case and ?case has the payment instruction ?payment_instruction
effects of draft_payment_instruction: it becomes true that a payment instruction has been drafted for ?case and ?case has the payment instruction ?payment_instruction and ?payment_instruction payment instruction was created and ?case payment instruction has been validated -> draft payment instruction {payment_instruction ?payment_instruction} for {drawdown_case ?case}
action: validate_payment_instruction
parameters: [?case]
preconditions of validate_payment_instruction: ?case is drawdown locked and ?case payment instruction has been validated and ?case is a drawdown_case and it is not the case that the payment instruction for ?case is approved
effects of validate_payment_instruction: it becomes true that the payment instruction for ?case is approved -> validate payment instruction for {drawdown_case ?case}
action: approve_payment_instruction
parameters: [?case]
preconditions of approve_payment_instruction: ?case is drawdown locked and the payment instruction for ?case is approved and ?case is a drawdown_case and it is not the case that the payment instruction for ?case is ready to be signed
effects of approve_payment_instruction: it becomes true that the payment instruction for ?case is ready to be signed -> approve payment instruction for {drawdown_case ?case}
action: sign_payment_instruction
parameters: [?payment_instruction, ?case]
preconditions of sign_payment_instruction: ?case is drawdown locked and ?payment_instruction payment instruction was created and the payment instruction for ?case is ready to be signed and ?payment_instruction is a payment_instruction and ?case is a drawdown_case and it is not the case that ?payment_instruction is a signed payment instruction
effects of sign_payment_instruction: it becomes true that ?payment_instruction is a signed payment instruction -> sign {payment_instruction ?payment_instruction} for {drawdown_case ?case}
action: send_instruction_to_treasury
parameters: [?payment_instruction]
preconditions of send_instruction_to_treasury: ?payment_instruction is a signed payment instruction and ?payment_instruction is a payment_instruction and it is not the case that ?payment_instruction is sent to the treasury
effects of send_instruction_to_treasury: it becomes true that ?payment_instruction is sent to the treasury -> 
action: execute_treasury_release
parameters: [?payment_instruction, ?case, ?packet, ?facility_doc]
preconditions of execute_treasury_release: ?case is drawdown locked and ?case is authorized for packet creation and ?case is approved for risk and ?payment_instruction is sent to the treasury and ?packet is a packet for case ?case and ?packet is finalized and ?packet is attached to the facility document ?facility_doc and the facility ?facility_doc is eligible for the case ?case and ?facility_doc requires fx review and the covenant statement for ?case is verified and the use of proceeds for ?case has been verified and ?payment_instruction is a payment_instruction and ?case is a drawdown_case and ?packet is a drawdown_packet and ?facility_doc is a facility_document and it is not the case that ?payment_instruction payment instruction has been executed
effects of execute_treasury_release: it becomes true that ?payment_instruction payment instruction has been executed -> execute treasury release {payment_instruction ?payment_instruction} for {drawdown_case ?case} using {drawdown_packet ?packet} attached to {facility_document ?facility_doc}
action: reserve_wire_cutoff_window
parameters: [?payment_instruction, ?cutoff_window_token]
preconditions of reserve_wire_cutoff_window: ?payment_instruction payment instruction has been executed and ?cutoff_window_token is available and ?payment_instruction is a payment_instruction and ?cutoff_window_token is a wire_cutoff_window_token and it is not the case that wire cutoff is reserved for ?payment_instruction
effects of reserve_wire_cutoff_window: it becomes true that wire cutoff is reserved for ?payment_instruction and ?cutoff_window_token is consumed and it is not the case anymore that ?cutoff_window_token is available -> reserve wire cutoff window for {payment_instruction ?payment_instruction} using {wire_cutoff_window_token ?cutoff_window_token}
action: consume_cutoff_window_without_reservation
parameters: [?case, ?cutoff_window_token]
preconditions of consume_cutoff_window_without_reservation: ?case is drawdown locked and ?cutoff_window_token is available and ?case is a drawdown_case and ?cutoff_window_token is a wire_cutoff_window_token and it is not the case that ?case has a frozen drawdown
effects of consume_cutoff_window_without_reservation: it becomes true that ?cutoff_window_token is consumed and it is not the case anymore that ?cutoff_window_token is available -> consume cutoff window without reservation for {drawdown_case ?case} using {wire_cutoff_window_token ?cutoff_window_token}
action: release_wire_payment
parameters: [?payment_instruction]
preconditions of release_wire_payment: wire cutoff is reserved for ?payment_instruction and ?payment_instruction is a payment_instruction and it is not the case that the beneficiary of ?payment_instruction is credited and ?payment_instruction has been released by wire
effects of release_wire_payment: it becomes true that ?payment_instruction has been released by wire -> release {payment_instruction ?payment_instruction} by wire
action: confirm_beneficiary_credit
parameters: [?payment_instruction]
preconditions of confirm_beneficiary_credit: ?payment_instruction has been released by wire and ?payment_instruction is a payment_instruction and it is not the case that the beneficiary of ?payment_instruction is credited
effects of confirm_beneficiary_credit: it becomes true that the beneficiary of ?payment_instruction is credited -> confirm beneficiary credit for {payment_instruction ?payment_instruction}
action: mark_funds_settled
parameters: [?payment_instruction]
preconditions of mark_funds_settled: the beneficiary of ?payment_instruction is credited and ?payment_instruction is a payment_instruction and it is not the case that funds for ?payment_instruction are settled
effects of mark_funds_settled: it becomes true that funds for ?payment_instruction are settled -> mark funds settled for {payment_instruction ?payment_instruction}
action: create_disbursement_notice
parameters: [?case, ?notice, ?borrower_signer, ?dispatch_window_token, ?packet, ?facility_doc]
preconditions of create_disbursement_notice: ?case is drawdown locked and ?dispatch_window_token is available and ?packet is a packet for case ?case and ?packet is finalized and ?packet is attached to the facility document ?facility_doc and the facility ?facility_doc is eligible for the case ?case and the facility requires agent notice for ?facility_doc and ?borrower_signer is the required person for ?case and ?borrower_signer has full clearance and ?case is a drawdown_case and ?notice is a disbursement_notice and ?borrower_signer is a borrower_signatory and ?dispatch_window_token is a notice_dispatch_window_token and ?packet is a drawdown_packet and ?facility_doc is a facility_document and it is not the case that ?notice is addressed to the signer ?borrower_signer in case ?case
effects of create_disbursement_notice: it becomes true that ?notice is addressed to the signer ?borrower_signer in case ?case and ?notice has been created and ?dispatch_window_token is consumed and it is not the case anymore that ?dispatch_window_token is available -> create disbursement notice {disbursement_notice ?notice} for {drawdown_case ?case} addressed to {borrower_signatory ?borrower_signer} using {drawdown_packet ?packet} attached to {facility_document ?facility_doc} consuming {notice_dispatch_window_token ?dispatch_window_token}
action: approve_disbursement_notice
parameters: [?notice]
preconditions of approve_disbursement_notice: ?notice has been created and ?notice is a disbursement_notice and it is not the case that ?notice is approved
effects of approve_disbursement_notice: it becomes true that ?notice is approved -> approve {disbursement_notice ?notice}
action: create_notice_delivery_package
parameters: [?delivery_package, ?notice]
preconditions of create_notice_delivery_package: ?notice has been created and ?notice is approved and ?delivery_package is a delivery_package and ?notice is a disbursement_notice and it is not the case that the delivery package ?delivery_package has been created
effects of create_notice_delivery_package: it becomes true that the delivery package ?delivery_package has been created and the package ?delivery_package is for the notice ?notice -> create {delivery_package ?delivery_package} for {disbursement_notice ?notice}
action: apply_delivery_label
parameters: [?delivery_package, ?delivery_slot_token]
preconditions of apply_delivery_label: the delivery package ?delivery_package has been created and ?delivery_slot_token is available and ?delivery_package is a delivery_package and ?delivery_slot_token is a delivery_slot_token and it is not the case that ?delivery_package is a labeled package
effects of apply_delivery_label: it becomes true that ?delivery_package is a labeled package and ?delivery_slot_token is consumed and it is not the case anymore that ?delivery_slot_token is available -> apply delivery label to {delivery_package ?delivery_package} using {delivery_slot_token ?delivery_slot_token}
action: assign_senior_override_review
parameters: [?case, ?delivery_slot_token]
preconditions of assign_senior_override_review: ?case is drawdown locked and ?delivery_slot_token is available and ?case is a drawdown_case and ?delivery_slot_token is a delivery_slot_token and it is not the case that ?case is assigned a senior override
effects of assign_senior_override_review: it becomes true that ?case is assigned a senior override and ?delivery_slot_token is consumed and it is not the case anymore that ?delivery_slot_token is available -> assign senior override review to {drawdown_case ?case} using {delivery_slot_token ?delivery_slot_token}
action: print_delivery_label
parameters: [?delivery_package]
preconditions of print_delivery_label: ?delivery_package is a labeled package and ?delivery_package is a delivery_package and it is not the case that ?delivery_package has a printed label
effects of print_delivery_label: it becomes true that ?delivery_package has a printed label -> print delivery label for {delivery_package ?delivery_package}
action: scan_delivery_label
parameters: [?delivery_package]
preconditions of scan_delivery_label: ?delivery_package has a printed label and ?delivery_package is a delivery_package and it is not the case that the label of ?delivery_package has been scanned
effects of scan_delivery_label: it becomes true that the label of ?delivery_package has been scanned -> scan label of {delivery_package ?delivery_package}
action: mark_notice_ready
parameters: [?notice]
preconditions of mark_notice_ready: ?notice is ready to be sent and ?notice is a disbursement_notice
effects of mark_notice_ready: it becomes true that ?notice is ready to be sent -> mark {disbursement_notice ?notice} ready to be sent
action: send_notice_via_secure_delivery
parameters: [?notice, ?payment_instruction, ?case, ?delivery_package, ?borrower_signer]
preconditions of send_notice_via_secure_delivery: ?case is drawdown locked and ?notice is addressed to the signer ?borrower_signer in case ?case and ?notice has been created and ?case has the payment instruction ?payment_instruction and ?payment_instruction payment instruction was created and the package ?delivery_package is for the notice ?notice and the label of ?delivery_package has been scanned and ?notice is ready to be sent and ?notice is a disbursement_notice and ?payment_instruction is a payment_instruction and ?case is a drawdown_case and ?delivery_package is a delivery_package and ?borrower_signer is a borrower_signatory and it is not the case that ?case has a frozen drawdown and ?notice has been sent
effects of send_notice_via_secure_delivery: it becomes true that ?notice has been sent -> send {disbursement_notice ?notice} for {drawdown_case ?case} via secure delivery package {delivery_package ?delivery_package} to {borrower_signatory ?borrower_signer} with payment instruction {payment_instruction ?payment_instruction}
action: complete_final_controls
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2, ?payment_instruction, ?notice]
preconditions of complete_final_controls: ?case is drawdown locked and ?case is authorized for packet creation and ?case is approved for risk and the drawdown package for ?case is compiled and a two-officer signoff is recorded for ?case and ?borrower_signer_1 is the required person for ?case and ?borrower_signer_2 is the required person for ?case and ?bank_officer_1 is the required person for ?case and ?bank_officer_2 is the required person for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and funds for ?payment_instruction are settled and ?notice has been sent and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and ?payment_instruction is a payment_instruction and ?notice is a disbursement_notice and it is not the case that ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2 and ?case has a compliance hold flag and ?case has a suspicious payment flag and ?case has a frozen drawdown and final controls are complete for ?case
effects of complete_final_controls: it becomes true that final controls are complete for ?case -> complete final controls for {drawdown_case ?case} with borrower signatories {borrower_signatory ?borrower_signer_1} and {borrower_signatory ?borrower_signer_2}, bank drawdown officers {bank_drawdown_officer ?bank_officer_1} and {bank_drawdown_officer ?bank_officer_2}, payment instruction {payment_instruction ?payment_instruction} and disbursement notice {disbursement_notice ?notice}
action: close_drawdown_case
parameters: [?case, ?payment_instruction, ?notice]
preconditions of close_drawdown_case: ?case is drawdown locked and final controls are complete for ?case and ?payment_instruction payment instruction was created and ?payment_instruction payment instruction has been executed and the beneficiary of ?payment_instruction is credited and ?notice has been sent and ?case is a drawdown_case and ?payment_instruction is a payment_instruction and ?notice is a disbursement_notice and it is not the case that the drawdown for ?case is completed
effects of close_drawdown_case: it becomes true that the drawdown for ?case is completed and it is not the case anymore that ?case is drawdown locked -> close drawdown case {drawdown_case ?case} with {payment_instruction ?payment_instruction} and {disbursement_notice ?notice}
(drawdown_open ?case) -> the drawdown for {?case} is open
(drawdown_locked ?case) -> {?case} is drawdown locked
(drawdown_completed ?case) -> the drawdown for {?case} is completed
(drawdown_frozen ?case) -> {?case} has a frozen drawdown
(compliance_hold_flag ?case) -> {?case} has a compliance hold flag
(suspicious_payment_flag ?case) -> {?case} has a suspicious payment flag
(wire_released ?payment_instruction) -> {?payment_instruction} has been released by wire
(notice_created ?notice) -> {?notice} has been created
(facility_requires_fx_review ?facility_doc) -> {?facility_doc} requires fx review
(facility_requires_agent_notice ?facility_doc) -> the facility requires agent notice for {?facility_doc}
(channel_selected ?case ?channel) -> {?channel} is selected for case {?case}
(facility_selected ?case ?facility_doc) -> the facility {?facility_doc} is selected for case {?case}
(required_person ?case ?person) -> {?person} is the required person for {?case}
(person_linked_to_case ?case ?person) -> {?person} is linked to the case {?case}
(required_document ?case ?doc) -> {?doc} is a required document for {?case}
(document_for_case ?doc ?case) -> {?doc} is a document for case {?case}
(document_for_person ?doc ?person) -> {?doc} is a document for {?person}
(document_received ?doc) -> {?doc} has been received
(document_verified ?doc) -> {?doc} is verified
(doc_is_borrowing_base_certificate ?doc) -> {?doc} is borrowing the base certificate
(doc_is_compliance_certificate ?doc) -> the document {?doc} is a compliance certificate
(doc_is_covenant_compliance_statement ?doc) -> {?doc} is a covenant compliance statement
(doc_is_fee_calculation_sheet ?doc) -> {?doc} is a fee calculation sheet
(doc_is_use_of_proceeds_statement ?doc) -> {?doc} is a use of proceeds statement
(doc_is_authorization_kyc_record ?doc) -> {?doc} is an authorization kyc record
(borrowing_base_verified ?case) -> {?case} has a verified borrowing base
(compliance_certificate_verified ?case) -> {?case} has a verified compliance certificate
(covenant_statement_verified ?case) -> the covenant statement for {?case} is verified
(use_of_proceeds_verified ?case) -> the use of proceeds for {?case} has been verified
(two_officer_signoff_recorded ?case) -> a two-officer signoff is recorded for {?case}
(person_auth_doc_verified ?person) -> {?person} has their authorization documents verified
(person_contact_verified ?person) -> {?person}'s contact is verified
(person_in_required_set ?person) -> {?person} is in the required set
(person_sanctions_checked ?person) -> sanctions have been checked for {?person}
(person_pep_checked ?person) -> {?person} has been pep checked
(person_full_clearance ?person) -> {?person} has full clearance
(availability_calculated ?case) -> availability for {?case} has been calculated
(limit_headroom_confirmed ?case) -> limit headroom is confirmed for {?case}
(basic_drawdown_checks_complete ?case) -> basic drawdown checks are complete for {?case}
(fast_track_enabled ?case) -> {?case} has fast track enabled
(drawdown_package_compiled ?case) -> the drawdown package for {?case} is compiled
(credit_ops_approved ?case) -> {?case} is approved by credit operations
(risk_approved ?case) -> {?case} is approved for risk
(auto_approved ?case) -> {?case} is auto approved
(packet_creation_authorized ?case) -> {?case} is authorized for packet creation
(facility_eligible_for_case ?case ?facility_doc) -> the facility {?facility_doc} is eligible for the case {?case}
(facility_document_validated ?facility_doc) -> {?facility_doc} is a validated facility document
(packet_for_case ?packet ?case) -> {?packet} is a packet for case {?case}
(packet_created ?packet) -> {?packet} has been created
(packet_attached_facility_document ?packet ?facility_doc) -> {?packet} is attached to the facility document {?facility_doc}
(packet_assigned_signer ?packet ?borrower_signer) -> {?packet} is assigned to signer {?borrower_signer}
(packet_has_signature_slot ?packet ?signature_slot) -> {?packet} has signature slot {?signature_slot}
(signature_collection_started ?packet) -> signature collection has started for {?packet}
(signature_captured ?packet ?borrower_signer) -> {?borrower_signer}'s signature is captured on {?packet}
(two_signatures_verified ?packet) -> the two signatures on {?packet} are verified
(packet_compliance_checked ?packet) -> {?packet} has been checked for packet compliance
(packet_finalized ?packet) -> {?packet} is finalized
(drawdown_packet_complete ?case) -> the drawdown packet for {?case} is complete
(packet_reopened ?packet) -> {?packet} has been reopened
(payment_instruction_drafted ?case) -> a payment instruction has been drafted for {?case}
(case_has_payment_instruction ?case ?payment_instruction) -> {?case} has the payment instruction {?payment_instruction}
(payment_instruction_created ?payment_instruction) -> {?payment_instruction} payment instruction was created
(payment_instruction_validated ?case) -> {?case} payment instruction has been validated
(payment_instruction_approved ?case) -> the payment instruction for {?case} is approved
(payment_instruction_ready_to_sign ?case) -> the payment instruction for {?case} is ready to be signed
(payment_instruction_signed ?payment_instruction) -> {?payment_instruction} is a signed payment instruction
(payment_instruction_sent_to_treasury ?payment_instruction) -> {?payment_instruction} is sent to the treasury
(payment_instruction_executed ?payment_instruction) -> {?payment_instruction} payment instruction has been executed
(beneficiary_credited ?payment_instruction) -> the beneficiary of {?payment_instruction} is credited
(funds_settled ?payment_instruction) -> funds for {?payment_instruction} are settled
(token_available ?token) -> {?token} is available
(token_consumed ?token) -> {?token} is consumed
(wire_cutoff_reserved ?payment_instruction) -> wire cutoff is reserved for {?payment_instruction}
(notice_addressed_to_signer ?notice ?case ?borrower_signer) -> {?notice} is addressed to the signer {?borrower_signer} in case {?case}
(notice_approved ?notice) -> {?notice} is approved
(delivery_package_created ?delivery_package) -> the delivery package {?delivery_package} has been created
(package_for_notice ?delivery_package ?notice) -> the package {?delivery_package} is for the notice {?notice}
(package_labeled ?delivery_package) -> {?delivery_package} is a labeled package
(label_printed ?delivery_package) -> {?delivery_package} has a printed label
(label_scanned ?delivery_package) -> the label of {?delivery_package} has been scanned
(notice_ready_to_send ?notice) -> {?notice} is ready to be sent
(notice_sent ?notice) -> {?notice} has been sent
(senior_override_assigned ?case) -> {?case} is assigned a senior override
(final_controls_complete ?case) -> final controls are complete for {?case}
(= ?x1 ?x2) -> {?x1} is equal to {?x2}
(!= ?x1 ?x2) -> {?x1} is not equal to {?x2}
action: open_drawdown_case
parameters: [?case]
preconditions of open_drawdown_case: ?case is a drawdown_case and it is not the case that the drawdown for ?case is open and the drawdown for ?case is completed and ?case has a frozen drawdown
effects of open_drawdown_case: it becomes true that the drawdown for ?case is open -> open drawdown for {drawdown_case ?case}
action: select_request_channel
parameters: [?case, ?channel]
preconditions of select_request_channel: the drawdown for ?case is open and ?case is a drawdown_case and ?channel is a request_channel and it is not the case that ?case is drawdown locked and ?case has a frozen drawdown
effects of select_request_channel: it becomes true that ?channel is selected for case ?case -> select {request_channel ?channel} for {drawdown_case ?case}
action: select_facility_document
parameters: [?case, ?facility_doc]
preconditions of select_facility_document: the drawdown for ?case is open and ?case is a drawdown_case and ?facility_doc is a facility_document and it is not the case that ?case is drawdown locked and ?case has a frozen drawdown
effects of select_facility_document: it becomes true that the facility ?facility_doc is selected for case ?case -> select {facility_document ?facility_doc} for {drawdown_case ?case}
action: verify_borrowing_base_certificate
parameters: [?case, ?borrowing_base_doc]
preconditions of verify_borrowing_base_certificate: the drawdown for ?case is open and ?borrowing_base_doc is a required document for ?case and ?borrowing_base_doc is a document for case ?case and ?borrowing_base_doc has been received and ?borrowing_base_doc is borrowing the base certificate and ?case is a drawdown_case and ?borrowing_base_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?borrowing_base_doc is verified
effects of verify_borrowing_base_certificate: it becomes true that ?borrowing_base_doc is verified and ?case has a verified borrowing base -> verify borrowing base certificate for {drawdown_case ?case} using {drawdown_document ?borrowing_base_doc}
action: verify_compliance_certificate
parameters: [?case, ?compliance_cert_doc]
preconditions of verify_compliance_certificate: the drawdown for ?case is open and ?compliance_cert_doc is a required document for ?case and ?compliance_cert_doc is a document for case ?case and ?compliance_cert_doc has been received and the document ?compliance_cert_doc is a compliance certificate and ?case is a drawdown_case and ?compliance_cert_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?compliance_cert_doc is verified
effects of verify_compliance_certificate: it becomes true that ?compliance_cert_doc is verified and ?case has a verified compliance certificate -> verify compliance certificate {drawdown_document ?compliance_cert_doc} for {drawdown_case ?case}
action: verify_covenant_compliance_statement
parameters: [?case, ?covenant_statement_doc]
preconditions of verify_covenant_compliance_statement: the drawdown for ?case is open and ?covenant_statement_doc is a required document for ?case and ?covenant_statement_doc is a document for case ?case and ?covenant_statement_doc has been received and ?covenant_statement_doc is a covenant compliance statement and ?case is a drawdown_case and ?covenant_statement_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?covenant_statement_doc is verified
effects of verify_covenant_compliance_statement: it becomes true that ?covenant_statement_doc is verified and the covenant statement for ?case is verified -> verify covenant compliance statement {drawdown_document ?covenant_statement_doc} for {drawdown_case ?case}
action: verify_use_of_proceeds_statement
parameters: [?case, ?use_of_proceeds_doc]
preconditions of verify_use_of_proceeds_statement: the drawdown for ?case is open and ?use_of_proceeds_doc is a required document for ?case and ?use_of_proceeds_doc is a document for case ?case and ?use_of_proceeds_doc has been received and ?use_of_proceeds_doc is a use of proceeds statement and ?case is a drawdown_case and ?use_of_proceeds_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?use_of_proceeds_doc is verified
effects of verify_use_of_proceeds_statement: it becomes true that ?use_of_proceeds_doc is verified and the use of proceeds for ?case has been verified -> verify {use_of_proceeds_statement ?use_of_proceeds_doc} for {drawdown_case ?case}
action: verify_fee_calculation_sheet
parameters: [?case, ?fee_calc_doc]
preconditions of verify_fee_calculation_sheet: the drawdown for ?case is open and ?fee_calc_doc is a required document for ?case and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc has been received and ?fee_calc_doc is a fee calculation sheet and ?case is a drawdown_case and ?fee_calc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?fee_calc_doc is verified
effects of verify_fee_calculation_sheet: it becomes true that ?fee_calc_doc is verified -> verify {drawdown_document ?fee_calc_doc} for {drawdown_case ?case}
action: record_two_officer_signoff
parameters: [?case, ?fee_calc_doc, ?officer_1, ?officer_2]
preconditions of record_two_officer_signoff: the drawdown for ?case is open and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc is a fee calculation sheet and ?fee_calc_doc is verified and ?officer_1 is the required person for ?case and ?officer_2 is the required person for ?case and ?officer_1 has full clearance and ?officer_2 has full clearance and ?case is a drawdown_case and ?fee_calc_doc is a drawdown_document and ?officer_1 is a bank_drawdown_officer and ?officer_2 is a bank_drawdown_officer and it is not the case that ?case is drawdown locked and ?officer_1 is equal to ?officer_2
effects of record_two_officer_signoff: it becomes true that a two-officer signoff is recorded for ?case -> record two-officer signoff for {drawdown_case ?case} on {fee_calculation_sheet ?fee_calc_doc} by {bank_drawdown_officer ?officer_1} and {bank_drawdown_officer ?officer_2}
action: verify_person_authorization_record
parameters: [?case, ?person, ?auth_kyc_doc]
preconditions of verify_person_authorization_record: the drawdown for ?case is open and ?auth_kyc_doc is a required document for ?case and ?auth_kyc_doc is a document for ?person and ?auth_kyc_doc has been received and ?auth_kyc_doc is an authorization kyc record and ?case is a drawdown_case and ?person is a participant_person and ?auth_kyc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?auth_kyc_doc is verified
effects of verify_person_authorization_record: it becomes true that ?auth_kyc_doc is verified and ?person has their authorization documents verified -> 
action: verify_person_contact_details
parameters: [?case, ?person]
preconditions of verify_person_contact_details: the drawdown for ?case is open and ?person has their authorization documents verified and ?person is in the required set and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and ?person's contact is verified
effects of verify_person_contact_details: it becomes true that ?person's contact is verified -> verify {participant_person ?person}'s contact details for {drawdown_case ?case}
action: run_full_person_screening
parameters: [?case, ?person]
preconditions of run_full_person_screening: the drawdown for ?case is open and ?person is linked to the case ?case and ?person has their authorization documents verified and ?person's contact is verified and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and ?person has full clearance
effects of run_full_person_screening: it becomes true that sanctions have been checked for ?person and ?person has been pep checked and ?person has full clearance -> run full person screening for {participant_person ?person} on {drawdown_case ?case}
action: run_sanctions_screening_only
parameters: [?case, ?person]
preconditions of run_sanctions_screening_only: the drawdown for ?case is open and ?person is linked to the case ?case and ?person has their authorization documents verified and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and sanctions have been checked for ?person
effects of run_sanctions_screening_only: it becomes true that sanctions have been checked for ?person -> run sanctions screening for {drawdown_case ?case} on {participant_person ?person}
action: run_pep_screening_only
parameters: [?case, ?person]
preconditions of run_pep_screening_only: the drawdown for ?case is open and ?person is linked to the case ?case and ?person has their authorization documents verified and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and ?person has been pep checked
effects of run_pep_screening_only: it becomes true that ?person has been pep checked -> run pep screening only for {participant_person ?person} on {drawdown_case ?case}
action: complete_basic_drawdown_checks
parameters: [?case]
preconditions of complete_basic_drawdown_checks: the drawdown for ?case is open and ?case has a verified borrowing base and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and basic drawdown checks are complete for ?case
effects of complete_basic_drawdown_checks: it becomes true that availability for ?case has been calculated and limit headroom is confirmed for ?case and basic drawdown checks are complete for ?case -> complete basic drawdown checks for {drawdown_case ?case}
action: enable_fast_track
parameters: [?case]
preconditions of enable_fast_track: the drawdown for ?case is open and ?case has a verified borrowing base and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case has fast track enabled
effects of enable_fast_track: it becomes true that ?case has fast track enabled -> enable fast track for {drawdown_case ?case}
action: compile_drawdown_package
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2, ?borrowing_base_doc, ?covenant_statement_doc, ?compliance_cert_doc, ?use_of_proceeds_doc, ?fee_calc_doc]
preconditions of compile_drawdown_package: the drawdown for ?case is open and ?case has a verified borrowing base and the covenant statement for ?case is verified and ?case has a verified compliance certificate and the use of proceeds for ?case has been verified and ?borrowing_base_doc is a document for case ?case and ?borrowing_base_doc is borrowing the base certificate and ?borrowing_base_doc is verified and ?covenant_statement_doc is a document for case ?case and ?covenant_statement_doc is a covenant compliance statement and ?covenant_statement_doc is verified and ?compliance_cert_doc is a document for case ?case and the document ?compliance_cert_doc is a compliance certificate and ?compliance_cert_doc is verified and ?use_of_proceeds_doc is a document for case ?case and ?use_of_proceeds_doc is a use of proceeds statement and ?use_of_proceeds_doc is verified and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc is a fee calculation sheet and ?fee_calc_doc is verified and ?borrower_signer_1 is the required person for ?case and ?borrower_signer_2 is the required person for ?case and ?bank_officer_1 is the required person for ?case and ?bank_officer_2 is the required person for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and basic drawdown checks are complete for ?case and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and ?borrowing_base_doc is a drawdown_document and ?covenant_statement_doc is a drawdown_document and ?compliance_cert_doc is a drawdown_document and ?use_of_proceeds_doc is a drawdown_document and ?fee_calc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and the drawdown package for ?case is compiled and ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2
effects of compile_drawdown_package: it becomes true that the drawdown package for ?case is compiled -> compile drawdown package for {drawdown_case ?case} with borrower signers {borrower_signatory ?borrower_signer_1} and {borrower_signatory ?borrower_signer_2}, bank officers {bank_drawdown_officer ?bank_officer_1} and {bank_drawdown_officer ?bank_officer_2}, and documents {drawdown_document ?borrowing_base_doc}, {drawdown_document ?
Revised: action: compile_drawdown_package
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2, ?borrowing_base_doc, ?covenant_statement_doc, ?compliance_cert_doc, ?use_of_proceeds_doc, ?fee_calc_doc]
preconditions of compile_drawdown_package: the drawdown for ?case is open and ?case has a verified borrowing base and the covenant statement for ?case is verified and ?case has a verified compliance certificate and the use of proceeds for ?case has been verified and ?borrowing_base_doc is a document for case ?case and ?borrowing_base_doc is borrowing the base certificate and ?borrowing_base_doc is verified and ?covenant_statement_doc is a document for case ?case and ?covenant_statement_doc is a covenant compliance statement and ?covenant_statement_doc is verified and ?compliance_cert_doc is a document for case ?case and the document ?compliance_cert_doc is a compliance certificate and ?compliance_cert_doc is verified and ?use_of_proceeds_doc is a document for case ?case and ?use_of_proceeds_doc is a use of proceeds statement and ?use_of_proceeds_doc is verified and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc is a fee calculation sheet and ?fee_calc_doc is verified and ?borrower_signer_1 is the required person for ?case and ?borrower_signer_2 is the required person for ?case and ?bank_officer_1 is the required person for ?case and ?bank_officer_2 is the required person for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and basic drawdown checks are complete for ?case and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and ?borrowing_base_doc is a drawdown_document and ?covenant_statement_doc is a drawdown_document and ?compliance_cert_doc is a drawdown_document and ?use_of_proceeds_doc is a drawdown_document and ?fee_calc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and the drawdown package for ?case is compiled and ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2
effects of compile_drawdown_package: it becomes true that the drawdown package for ?case is compiled -> 
action: approve_drawdown_package_four_eyes
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2]
preconditions of approve_drawdown_package_four_eyes: the drawdown for ?case is open and the drawdown package for ?case is compiled and a two-officer signoff is recorded for ?case and ?borrower_signer_1 is the required person for ?case and ?borrower_signer_2 is the required person for ?case and ?bank_officer_1 is the required person for ?case and ?bank_officer_2 is the required person for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and it is not the case that ?case is drawdown locked and ?case is approved by credit operations and ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2
effects of approve_drawdown_package_four_eyes: it becomes true that ?case is approved by credit operations and ?case is approved for risk -> approve drawdown package for {drawdown_case ?case} by {borrower_signatory ?borrower_signer_1} and {borrower_signatory ?borrower_signer_2} with approvals from {bank_drawdown_officer ?bank_officer_1} and {bank_drawdown_officer ?bank_officer_2}
action: approve_drawdown_package_fast_track
parameters: [?case]
preconditions of approve_drawdown_package_fast_track: the drawdown for ?case is open and ?case has fast track enabled and ?case has a verified borrowing base and the covenant statement for ?case is verified and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case is approved by credit operations
effects of approve_drawdown_package_fast_track: it becomes true that ?case is approved by credit operations and ?case is auto approved -> approve fast-track drawdown package for {case ?case}
action: authorize_packet_creation
parameters: [?case]
preconditions of authorize_packet_creation: the drawdown for ?case is open and ?case is approved by credit operations and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case has a compliance hold flag and ?case has a suspicious payment flag and ?case has a frozen drawdown and ?case is authorized for packet creation
effects of authorize_packet_creation: it becomes true that ?case is authorized for packet creation -> authorize packet creation for {drawdown_case ?case}
action: raise_compliance_hold
parameters: [?case]
preconditions of raise_compliance_hold: the drawdown for ?case is open and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case has a compliance hold flag
effects of raise_compliance_hold: it becomes true that ?case has a compliance hold flag -> raise compliance hold on {drawdown_case ?case}
action: validate_facility_document
parameters: [?case, ?facility_doc]
preconditions of validate_facility_document: the drawdown for ?case is open and the facility ?facility_doc is eligible for the case ?case and ?case is authorized for packet creation and ?case is a drawdown_case and ?facility_doc is a facility_document and it is not the case that ?case is drawdown locked and ?facility_doc is a validated facility document
effects of validate_facility_document: it becomes true that ?facility_doc is a validated facility document -> validate {facility_document ?facility_doc} for {drawdown_case ?case}
action: create_drawdown_packet
parameters: [?case, ?packet, ?signature_slot_1, ?signature_slot_2]
preconditions of create_drawdown_packet: the drawdown for ?case is open and ?case is authorized for packet creation and ?case is a drawdown_case and ?packet is a drawdown_packet and ?signature_slot_1 is a signature_slot and ?signature_slot_2 is a signature_slot and it is not the case that ?case is drawdown locked and ?packet has been created and ?signature_slot_1 is equal to ?signature_slot_2
effects of create_drawdown_packet: it becomes true that ?packet has been created and ?packet is a packet for case ?case and ?packet has signature slot ?signature_slot_1 and ?packet has signature slot ?signature_slot_2 -> create drawdown packet {drawdown_packet ?packet} for {drawdown_case ?case} with signature slots {signature_slot ?signature_slot_1} and {signature_slot ?signature_slot_2}
action: attach_facility_document_to_packet
parameters: [?case, ?packet, ?facility_doc]
preconditions of attach_facility_document_to_packet: the drawdown for ?case is open and ?packet is a packet for case ?case and ?packet has been created and ?facility_doc is a validated facility document and ?case is a drawdown_case and ?packet is a drawdown_packet and ?facility_doc is a facility_document and it is not the case that ?case is drawdown locked and ?packet is finalized and ?packet is attached to the facility document ?facility_doc
effects of attach_facility_document_to_packet: it becomes true that ?packet is attached to the facility document ?facility_doc -> attach {facility_document ?facility_doc} to {drawdown_packet ?packet} for {drawdown_case ?case}
action: assign_signer_to_packet_slot
parameters: [?case, ?packet, ?borrower_signer, ?signature_slot]
preconditions of assign_signer_to_packet_slot: the drawdown for ?case is open and ?packet is a packet for case ?case and ?packet has been created and ?borrower_signer is the required person for ?case and ?borrower_signer has their authorization documents verified and ?borrower_signer's contact is verified and ?packet has signature slot ?signature_slot and ?case is a drawdown_case and ?packet is a drawdown_packet and ?borrower_signer is a borrower_signatory and ?signature_slot is a signature_slot and it is not the case that ?case is drawdown locked and ?packet is assigned to signer ?borrower_signer
effects of assign_signer_to_packet_slot: it becomes true that ?packet is assigned to signer ?borrower_signer and it is not the case anymore that ?packet has signature slot ?signature_slot -> assign {borrower_signatory ?borrower_signer} to slot {signature_slot ?signature_slot} on {drawdown_packet ?packet} for {drawdown_case ?case}
action: start_signature_collection
parameters: [?packet]
preconditions of start_signature_collection: ?packet has been created and ?packet is a drawdown_packet and it is not the case that ?packet is finalized and signature collection has started for ?packet
effects of start_signature_collection: it becomes true that signature collection has started for ?packet -> start signature collection for {drawdown_packet ?packet}
action: capture_signer_signature
parameters: [?packet, ?borrower_signer]
preconditions of capture_signer_signature: signature collection has started for ?packet and ?packet is assigned to signer ?borrower_signer and ?packet is a drawdown_packet and ?borrower_signer is a borrower_signatory and it is not the case that ?borrower_signer's signature is captured on ?packet
effects of capture_signer_signature: it becomes true that ?borrower_signer's signature is captured on ?packet -> capture signature for {drawdown_packet ?packet} from {borrower_signatory ?borrower_signer}
action: verify_two_distinct_signatures
parameters: [?packet, ?borrower_signer_1, ?borrower_signer_2]
preconditions of verify_two_distinct_signatures: ?packet is assigned to signer ?borrower_signer_1 and ?packet is assigned to signer ?borrower_signer_2 and ?borrower_signer_1's signature is captured on ?packet and ?borrower_signer_2's signature is captured on ?packet and ?packet is a drawdown_packet and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and it is not the case that the two signatures on ?packet are verified and ?borrower_signer_1 is equal to ?borrower_signer_2
effects of verify_two_distinct_signatures: it becomes true that the two signatures on ?packet are verified -> verify two distinct signatures on {drawdown_packet ?packet} from {borrower_signatory ?borrower_signer_1} and {borrower_signatory ?borrower_signer_2}
action: perform_packet_compliance_check
parameters: [?packet]
preconditions of perform_packet_compliance_check: the two signatures on ?packet are verified and ?packet is a drawdown_packet and it is not the case that ?packet has been checked for packet compliance
effects of perform_packet_compliance_check: it becomes true that ?packet has been checked for packet compliance -> check packet compliance for {drawdown_packet ?packet}
action: finalize_drawdown_packet
parameters: [?packet]
preconditions of finalize_drawdown_packet: ?packet has been checked for packet compliance and ?packet is a drawdown_packet and it is not the case that ?packet is finalized
effects of finalize_drawdown_packet: it becomes true that ?packet is finalized and it is not the case anymore that signature collection has started for ?packet -> finalize {drawdown_packet ?packet} that has been checked for packet compliance and stop signature collection for {drawdown_packet ?packet}
action: confirm_packet_has_three_facility_docs
parameters: [?case, ?packet, ?facility_doc_1, ?facility_doc_2, ?facility_doc_3]
preconditions of confirm_packet_has_three_facility_docs: the drawdown for ?case is open and ?packet is a packet for case ?case and ?packet is finalized and ?packet is attached to the facility document ?facility_doc_1 and ?packet is attached to the facility document ?facility_doc_2 and ?packet is attached to the facility document ?facility_doc_3 and ?case is a drawdown_case and ?packet is a drawdown_packet and ?facility_doc_1 is a facility_document and ?facility_doc_2 is a facility_document and ?facility_doc_3 is a facility_document and it is not the case that ?case is drawdown locked and the drawdown packet for ?case is complete and ?facility_doc_1 is equal to ?facility_doc_2 and ?facility_doc_1 is equal to ?facility_doc_3 and ?facility_doc_2 is equal to ?facility_doc_3
effects of confirm_packet_has_three_facility_docs: it becomes true that the drawdown packet for ?case is complete -> confirm drawdown packet {drawdown_packet ?packet} for {drawdown_case ?case} attached to facility documents {facility_document ?facility_doc_1}, {facility_document ?facility_doc_2} and {facility_document ?facility_doc_3} is complete
action: reopen_packet_and_reset_signatures
parameters: [?case, ?packet, ?reopen_token, ?signature_slot_1, ?signature_slot_2]
preconditions of reopen_packet_and_reset_signatures: the drawdown for ?case is open and ?packet is a packet for case ?case and ?packet has been created and ?reopen_token is available and ?case is a drawdown_case and ?packet is a drawdown_packet and ?reopen_token is a reopen_key_token and ?signature_slot_1 is a signature_slot and ?signature_slot_2 is a signature_slot and it is not the case that ?case is drawdown locked and ?packet has been reopened
effects of reopen_packet_and_reset_signatures: it becomes true that ?packet has been reopened and ?reopen_token is consumed and ?packet has signature slot ?signature_slot_1 and ?packet has signature slot ?signature_slot_2 and it is not the case anymore that ?reopen_token is available and ?packet is finalized and ?packet has been checked for packet compliance and the two signatures on ?packet are verified and signature collection has started for ?packet -> reopen {drawdown_packet ?packet} for {drawdown_case ?case} using {reopen_key_token ?reopen_token} and reset signature slots {signature_slot ?signature_slot_1} and {signature_slot ?signature_slot_2}
action: lock_case_for_execution
parameters: [?case, ?packet]
preconditions of lock_case_for_execution: the drawdown for ?case is open and the drawdown packet for ?case is complete and ?packet is a packet for case ?case and ?packet is finalized and ?case is authorized for packet creation and ?case is a drawdown_case and ?packet is a drawdown_packet and it is not the case that ?case is drawdown locked and ?case has a frozen drawdown
effects of lock_case_for_execution: it becomes true that ?case is drawdown locked and it is not the case anymore that the drawdown for ?case is open -> lock {drawdown_case ?case} for execution with {drawdown_packet ?packet}
action: reopen_locked_case
parameters: [?case, ?reopen_token]
preconditions of reopen_locked_case: ?case is drawdown locked and ?reopen_token is available and ?case is a drawdown_case and ?reopen_token is a reopen_key_token and it is not the case that ?case has a frozen drawdown
effects of reopen_locked_case: it becomes true that the drawdown for ?case is open and ?case has a compliance hold flag and ?reopen_token is consumed and it is not the case anymore that ?case is drawdown locked and ?reopen_token is available -> reopen drawdown for {drawdown_case ?case} with {reopen_key_token ?reopen_token}
action: freeze_case_due_to_suspicious_payment
parameters: [?case, ?payment_instruction]
preconditions of freeze_case_due_to_suspicious_payment: the drawdown for ?case is open and ?case is a drawdown_case and ?payment_instruction is a payment_instruction and it is not the case that ?case is drawdown locked and ?case is authorized for packet creation and ?case has a frozen drawdown
effects of freeze_case_due_to_suspicious_payment: it becomes true that ?case has the payment instruction ?payment_instruction and ?case has a suspicious payment flag and ?case has a frozen drawdown -> freeze drawdown case {drawdown_case ?case} due to suspicious payment instruction {payment_instruction ?payment_instruction}
action: draft_payment_instruction
parameters: [?case, ?payment_instruction]
preconditions of draft_payment_instruction: ?case is drawdown locked and ?case is authorized for packet creation and the drawdown packet for ?case is complete and ?case is a drawdown_case and ?payment_instruction is a payment_instruction and it is not the case that a payment instruction has been drafted for ?case and ?case has the payment instruction ?payment_instruction
effects of draft_payment_instruction: it becomes true that a payment instruction has been drafted for ?case and ?case has the payment instruction ?payment_instruction and ?payment_instruction payment instruction was created and ?case payment instruction has been validated -> draft payment instruction {payment_instruction ?payment_instruction} for {drawdown_case ?case}
action: validate_payment_instruction
parameters: [?case]
preconditions of validate_payment_instruction: ?case is drawdown locked and ?case payment instruction has been validated and ?case is a drawdown_case and it is not the case that the payment instruction for ?case is approved
effects of validate_payment_instruction: it becomes true that the payment instruction for ?case is approved -> validate payment instruction for {drawdown_case ?case}
action: approve_payment_instruction
parameters: [?case]
preconditions of approve_payment_instruction: ?case is drawdown locked and the payment instruction for ?case is approved and ?case is a drawdown_case and it is not the case that the payment instruction for ?case is ready to be signed
effects of approve_payment_instruction: it becomes true that the payment instruction for ?case is ready to be signed -> approve payment instruction for {drawdown_case ?case}
action: sign_payment_instruction
parameters: [?payment_instruction, ?case]
preconditions of sign_payment_instruction: ?case is drawdown locked and ?payment_instruction payment instruction was created and the payment instruction for ?case is ready to be signed and ?payment_instruction is a payment_instruction and ?case is a drawdown_case and it is not the case that ?payment_instruction is a signed payment instruction
effects of sign_payment_instruction: it becomes true that ?payment_instruction is a signed payment instruction -> sign {payment_instruction ?payment_instruction} for {drawdown_case ?case}
action: send_instruction_to_treasury
parameters: [?payment_instruction]
preconditions of send_instruction_to_treasury: ?payment_instruction is a signed payment instruction and ?payment_instruction is a payment_instruction and it is not the case that ?payment_instruction is sent to the treasury
effects of send_instruction_to_treasury: it becomes true that ?payment_instruction is sent to the treasury -> send {signed payment instruction ?payment_instruction} to the treasury
action: execute_treasury_release
parameters: [?payment_instruction, ?case, ?packet, ?facility_doc]
preconditions of execute_treasury_release: ?case is drawdown locked and ?case is authorized for packet creation and ?case is approved for risk and ?payment_instruction is sent to the treasury and ?packet is a packet for case ?case and ?packet is finalized and ?packet is attached to the facility document ?facility_doc and the facility ?facility_doc is eligible for the case ?case and ?facility_doc requires fx review and the covenant statement for ?case is verified and the use of proceeds for ?case has been verified and ?payment_instruction is a payment_instruction and ?case is a drawdown_case and ?packet is a drawdown_packet and ?facility_doc is a facility_document and it is not the case that ?payment_instruction payment instruction has been executed
effects of execute_treasury_release: it becomes true that ?payment_instruction payment instruction has been executed -> execute treasury release {payment_instruction ?payment_instruction} for {drawdown_case ?case} using {drawdown_packet ?packet} attached to {facility_document ?facility_doc}
action: reserve_wire_cutoff_window
parameters: [?payment_instruction, ?cutoff_window_token]
preconditions of reserve_wire_cutoff_window: ?payment_instruction payment instruction has been executed and ?cutoff_window_token is available and ?payment_instruction is a payment_instruction and ?cutoff_window_token is a wire_cutoff_window_token and it is not the case that wire cutoff is reserved for ?payment_instruction
effects of reserve_wire_cutoff_window: it becomes true that wire cutoff is reserved for ?payment_instruction and ?cutoff_window_token is consumed and it is not the case anymore that ?cutoff_window_token is available -> reserve wire cutoff window for {payment_instruction ?payment_instruction} using {wire_cutoff_window_token ?cutoff_window_token}
action: consume_cutoff_window_without_reservation
parameters: [?case, ?cutoff_window_token]
preconditions of consume_cutoff_window_without_reservation: ?case is drawdown locked and ?cutoff_window_token is available and ?case is a drawdown_case and ?cutoff_window_token is a wire_cutoff_window_token and it is not the case that ?case has a frozen drawdown
effects of consume_cutoff_window_without_reservation: it becomes true that ?cutoff_window_token is consumed and it is not the case anymore that ?cutoff_window_token is available -> consume cutoff window without reservation for {drawdown_case ?case} using {wire_cutoff_window_token ?cutoff_window_token}
action: release_wire_payment
parameters: [?payment_instruction]
preconditions of release_wire_payment: wire cutoff is reserved for ?payment_instruction and ?payment_instruction is a payment_instruction and it is not the case that the beneficiary of ?payment_instruction is credited and ?payment_instruction has been released by wire
effects of release_wire_payment: it becomes true that ?payment_instruction has been released by wire -> release {payment_instruction ?payment_instruction} by wire
action: confirm_beneficiary_credit
parameters: [?payment_instruction]
preconditions of confirm_beneficiary_credit: ?payment_instruction has been released by wire and ?payment_instruction is a payment_instruction and it is not the case that the beneficiary of ?payment_instruction is credited
effects of confirm_beneficiary_credit: it becomes true that the beneficiary of ?payment_instruction is credited -> confirm beneficiary credit for {payment_instruction ?payment_instruction}
action: mark_funds_settled
parameters: [?payment_instruction]
preconditions of mark_funds_settled: the beneficiary of ?payment_instruction is credited and ?payment_instruction is a payment_instruction and it is not the case that funds for ?payment_instruction are settled
effects of mark_funds_settled: it becomes true that funds for ?payment_instruction are settled -> mark funds settled for {payment_instruction ?payment_instruction}
action: create_disbursement_notice
parameters: [?case, ?notice, ?borrower_signer, ?dispatch_window_token, ?packet, ?facility_doc]
preconditions of create_disbursement_notice: ?case is drawdown locked and ?dispatch_window_token is available and ?packet is a packet for case ?case and ?packet is finalized and ?packet is attached to the facility document ?facility_doc and the facility ?facility_doc is eligible for the case ?case and the facility requires agent notice for ?facility_doc and ?borrower_signer is the required person for ?case and ?borrower_signer has full clearance and ?case is a drawdown_case and ?notice is a disbursement_notice and ?borrower_signer is a borrower_signatory and ?dispatch_window_token is a notice_dispatch_window_token and ?packet is a drawdown_packet and ?facility_doc is a facility_document and it is not the case that ?notice is addressed to the signer ?borrower_signer in case ?case
effects of create_disbursement_notice: it becomes true that ?notice is addressed to the signer ?borrower_signer in case ?case and ?notice has been created and ?dispatch_window_token is consumed and it is not the case anymore that ?dispatch_window_token is available -> create disbursement notice {disbursement_notice ?notice} for {drawdown_case ?case} addressed to {borrower_signatory ?borrower_signer} using {drawdown_packet ?packet} attached to {facility_document ?facility_doc} consuming {notice_dispatch_window_token ?dispatch_window_token}
action: approve_disbursement_notice
parameters: [?notice]
preconditions of approve_disbursement_notice: ?notice has been created and ?notice is a disbursement_notice and it is not the case that ?notice is approved
effects of approve_disbursement_notice: it becomes true that ?notice is approved -> approve {disbursement_notice ?notice}
action: create_notice_delivery_package
parameters: [?delivery_package, ?notice]
preconditions of create_notice_delivery_package: ?notice has been created and ?notice is approved and ?delivery_package is a delivery_package and ?notice is a disbursement_notice and it is not the case that the delivery package ?delivery_package has been created
effects of create_notice_delivery_package: it becomes true that the delivery package ?delivery_package has been created and the package ?delivery_package is for the notice ?notice -> create {delivery_package ?delivery_package} for {disbursement_notice ?notice}
action: apply_delivery_label
parameters: [?delivery_package, ?delivery_slot_token]
preconditions of apply_delivery_label: the delivery package ?delivery_package has been created and ?delivery_slot_token is available and ?delivery_package is a delivery_package and ?delivery_slot_token is a delivery_slot_token and it is not the case that ?delivery_package is a labeled package
effects of apply_delivery_label: it becomes true that ?delivery_package is a labeled package and ?delivery_slot_token is consumed and it is not the case anymore that ?delivery_slot_token is available -> apply delivery label to {delivery_package ?delivery_package} using {delivery_slot_token ?delivery_slot_token}
action: assign_senior_override_review
parameters: [?case, ?delivery_slot_token]
preconditions of assign_senior_override_review: ?case is drawdown locked and ?delivery_slot_token is available and ?case is a drawdown_case and ?delivery_slot_token is a delivery_slot_token and it is not the case that ?case is assigned a senior override
effects of assign_senior_override_review: it becomes true that ?case is assigned a senior override and ?delivery_slot_token is consumed and it is not the case anymore that ?delivery_slot_token is available -> assign senior override review to {drawdown_case ?case} using {delivery_slot_token ?delivery_slot_token}
action: print_delivery_label
parameters: [?delivery_package]
preconditions of print_delivery_label: ?delivery_package is a labeled package and ?delivery_package is a delivery_package and it is not the case that ?delivery_package has a printed label
effects of print_delivery_label: it becomes true that ?delivery_package has a printed label -> print delivery label for {delivery_package ?delivery_package}
action: scan_delivery_label
parameters: [?delivery_package]
preconditions of scan_delivery_label: ?delivery_package has a printed label and ?delivery_package is a delivery_package and it is not the case that the label of ?delivery_package has been scanned
effects of scan_delivery_label: it becomes true that the label of ?delivery_package has been scanned -> scan label of {delivery_package ?delivery_package}
action: mark_notice_ready
parameters: [?notice]
preconditions of mark_notice_ready: ?notice is ready to be sent and ?notice is a disbursement_notice
effects of mark_notice_ready: it becomes true that ?notice is ready to be sent -> mark {disbursement_notice ?notice} ready to be sent
action: send_notice_via_secure_delivery
parameters: [?notice, ?payment_instruction, ?case, ?delivery_package, ?borrower_signer]
preconditions of send_notice_via_secure_delivery: ?case is drawdown locked and ?notice is addressed to the signer ?borrower_signer in case ?case and ?notice has been created and ?case has the payment instruction ?payment_instruction and ?payment_instruction payment instruction was created and the package ?delivery_package is for the notice ?notice and the label of ?delivery_package has been scanned and ?notice is ready to be sent and ?notice is a disbursement_notice and ?payment_instruction is a payment_instruction and ?case is a drawdown_case and ?delivery_package is a delivery_package and ?borrower_signer is a borrower_signatory and it is not the case that ?case has a frozen drawdown and ?notice has been sent
effects of send_notice_via_secure_delivery: it becomes true that ?notice has been sent -> send {disbursement_notice ?notice} for {drawdown_case ?case} via secure delivery package {delivery_package ?delivery_package} to {borrower_signatory ?borrower_signer} with payment instruction {payment_instruction ?payment_instruction}
action: complete_final_controls
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2, ?payment_instruction, ?notice]
preconditions of complete_final_controls: ?case is drawdown locked and ?case is authorized for packet creation and ?case is approved for risk and the drawdown package for ?case is compiled and a two-officer signoff is recorded for ?case and ?borrower_signer_1 is the required person for ?case and ?borrower_signer_2 is the required person for ?case and ?bank_officer_1 is the required person for ?case and ?bank_officer_2 is the required person for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and funds for ?payment_instruction are settled and ?notice has been sent and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and ?payment_instruction is a payment_instruction and ?notice is a disbursement_notice and it is not the case that ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2 and ?case has a compliance hold flag and ?case has a suspicious payment flag and ?case has a frozen drawdown and final controls are complete for ?case
effects of complete_final_controls: it becomes true that final controls are complete for ?case -> complete final controls for {drawdown_case ?case} with borrower signatories {borrower_signatory ?borrower_signer_1} and {borrower_signatory ?borrower_signer_2}, bank drawdown officers {bank_drawdown_officer ?bank_officer_1} and {bank_drawdown_officer ?bank_officer_2}, payment instruction {payment_instruction ?payment_instruction} and disbursement notice {disbursement_notice ?notice}
action: close_drawdown_case
parameters: [?case, ?payment_instruction, ?notice]
preconditions of close_drawdown_case: ?case is drawdown locked and final controls are complete for ?case and ?payment_instruction payment instruction was created and ?payment_instruction payment instruction has been executed and the beneficiary of ?payment_instruction is credited and ?notice has been sent and ?case is a drawdown_case and ?payment_instruction is a payment_instruction and ?notice is a disbursement_notice and it is not the case that the drawdown for ?case is completed
effects of close_drawdown_case: it becomes true that the drawdown for ?case is completed and it is not the case anymore that ?case is drawdown locked -> close drawdown case {drawdown_case ?case} with {payment_instruction ?payment_instruction} and {disbursement_notice ?notice}
(drawdown_open ?case) -> the drawdown for {?case} is open
(drawdown_locked ?case) -> {?case} is drawdown locked
(drawdown_completed ?case) -> the drawdown for {?case} is completed
(drawdown_frozen ?case) -> {?case} has a frozen drawdown
(compliance_hold_flag ?case) -> {?case} has a compliance hold flag
(suspicious_payment_flag ?case) -> {?case} has a suspicious payment flag
(wire_released ?payment_instruction) -> {?payment_instruction} has been released by wire
(notice_created ?notice) -> {?notice} has been created
(facility_requires_fx_review ?facility_doc) -> {?facility_doc} requires fx review
(facility_requires_agent_notice ?facility_doc) -> the facility requires agent notice for {?facility_doc}
(channel_selected ?case ?channel) -> {?channel} is selected for case {?case}
(facility_selected ?case ?facility_doc) -> the facility {?facility_doc} is selected for case {?case}
(required_person ?case ?person) -> {?person} is the required person for {?case}
(person_linked_to_case ?case ?person) -> {?person} is linked to the case {?case}
(required_document ?case ?doc) -> {?doc} is a required document for {?case}
(document_for_case ?doc ?case) -> {?doc} is a document for case {?case}
(document_for_person ?doc ?person) -> {?doc} is a document for {?person}
(document_received ?doc) -> {?doc} has been received
(document_verified ?doc) -> {?doc} is verified
(doc_is_borrowing_base_certificate ?doc) -> {?doc} is borrowing the base certificate
(doc_is_compliance_certificate ?doc) -> the document {?doc} is a compliance certificate
(doc_is_covenant_compliance_statement ?doc) -> {?doc} is a covenant compliance statement
(doc_is_fee_calculation_sheet ?doc) -> {?doc} is a fee calculation sheet
(doc_is_use_of_proceeds_statement ?doc) -> {?doc} is a use of proceeds statement
(doc_is_authorization_kyc_record ?doc) -> {?doc} is an authorization kyc record
(borrowing_base_verified ?case) -> {?case} has a verified borrowing base
(compliance_certificate_verified ?case) -> {?case} has a verified compliance certificate
(covenant_statement_verified ?case) -> the covenant statement for {?case} is verified
(use_of_proceeds_verified ?case) -> the use of proceeds for {?case} has been verified
(two_officer_signoff_recorded ?case) -> a two-officer signoff is recorded for {?case}
(person_auth_doc_verified ?person) -> {?person} has their authorization documents verified
(person_contact_verified ?person) -> {?person}'s contact is verified
(person_in_required_set ?person) -> {?person} is in the required set
(person_sanctions_checked ?person) -> sanctions have been checked for {?person}
(person_pep_checked ?person) -> {?person} has been pep checked
(person_full_clearance ?person) -> {?person} has full clearance
(availability_calculated ?case) -> availability for {?case} has been calculated
(limit_headroom_confirmed ?case) -> limit headroom is confirmed for {?case}
(basic_drawdown_checks_complete ?case) -> basic drawdown checks are complete for {?case}
(fast_track_enabled ?case) -> {?case} has fast track enabled
(drawdown_package_compiled ?case) -> the drawdown package for {?case} is compiled
(credit_ops_approved ?case) -> {?case} is approved by credit operations
(risk_approved ?case) -> {?case} is approved for risk
(auto_approved ?case) -> {?case} is auto approved
(packet_creation_authorized ?case) -> {?case} is authorized for packet creation
(facility_eligible_for_case ?case ?facility_doc) -> the facility {?facility_doc} is eligible for the case {?case}
(facility_document_validated ?facility_doc) -> {?facility_doc} is a validated facility document
(packet_for_case ?packet ?case) -> {?packet} is a packet for case {?case}
(packet_created ?packet) -> {?packet} has been created
(packet_attached_facility_document ?packet ?facility_doc) -> {?packet} is attached to the facility document {?facility_doc}
(packet_assigned_signer ?packet ?borrower_signer) -> {?packet} is assigned to signer {?borrower_signer}
(packet_has_signature_slot ?packet ?signature_slot) -> {?packet} has signature slot {?signature_slot}
(signature_collection_started ?packet) -> signature collection has started for {?packet}
(signature_captured ?packet ?borrower_signer) -> {?borrower_signer}'s signature is captured on {?packet}
(two_signatures_verified ?packet) -> the two signatures on {?packet} are verified
(packet_compliance_checked ?packet) -> {?packet} has been checked for packet compliance
(packet_finalized ?packet) -> {?packet} is finalized
(drawdown_packet_complete ?case) -> the drawdown packet for {?case} is complete
(packet_reopened ?packet) -> {?packet} has been reopened
(payment_instruction_drafted ?case) -> a payment instruction has been drafted for {?case}
(case_has_payment_instruction ?case ?payment_instruction) -> {?case} has the payment instruction {?payment_instruction}
(payment_instruction_created ?payment_instruction) -> {?payment_instruction} payment instruction was created
(payment_instruction_validated ?case) -> {?case} payment instruction has been validated
(payment_instruction_approved ?case) -> the payment instruction for {?case} is approved
(payment_instruction_ready_to_sign ?case) -> the payment instruction for {?case} is ready to be signed
(payment_instruction_signed ?payment_instruction) -> {?payment_instruction} is a signed payment instruction
(payment_instruction_sent_to_treasury ?payment_instruction) -> {?payment_instruction} is sent to the treasury
(payment_instruction_executed ?payment_instruction) -> {?payment_instruction} payment instruction has been executed
(beneficiary_credited ?payment_instruction) -> the beneficiary of {?payment_instruction} is credited
(funds_settled ?payment_instruction) -> funds for {?payment_instruction} are settled
(token_available ?token) -> {?token} is available
(token_consumed ?token) -> {?token} is consumed
(wire_cutoff_reserved ?payment_instruction) -> wire cutoff is reserved for {?payment_instruction}
(notice_addressed_to_signer ?notice ?case ?borrower_signer) -> {?notice} is addressed to the signer {?borrower_signer} in case {?case}
(notice_approved ?notice) -> {?notice} is approved
(delivery_package_created ?delivery_package) -> the delivery package {?delivery_package} has been created
(package_for_notice ?delivery_package ?notice) -> the package {?delivery_package} is for the notice {?notice}
(package_labeled ?delivery_package) -> {?delivery_package} is a labeled package
(label_printed ?delivery_package) -> {?delivery_package} has a printed label
(label_scanned ?delivery_package) -> the label of {?delivery_package} has been scanned
(notice_ready_to_send ?notice) -> {?notice} is ready to be sent
(notice_sent ?notice) -> {?notice} has been sent
(senior_override_assigned ?case) -> {?case} is assigned a senior override
(final_controls_complete ?case) -> final controls are complete for {?case}
(= ?x1 ?x2) -> {?x1} is equal to {?x2}
(!= ?x1 ?x2) -> {?x1} is not equal to {?x2}
action: open_drawdown_case
parameters: [?case]
preconditions of open_drawdown_case: ?case is a drawdown_case and it is not the case that the drawdown for ?case is open and the drawdown for ?case is completed and ?case has a frozen drawdown
effects of open_drawdown_case: it becomes true that the drawdown for ?case is open -> open drawdown for {drawdown_case ?case}
action: select_request_channel
parameters: [?case, ?channel]
preconditions of select_request_channel: the drawdown for ?case is open and ?case is a drawdown_case and ?channel is a request_channel and it is not the case that ?case is drawdown locked and ?case has a frozen drawdown
effects of select_request_channel: it becomes true that ?channel is selected for case ?case -> select {request_channel ?channel} for {drawdown_case ?case}
action: select_facility_document
parameters: [?case, ?facility_doc]
preconditions of select_facility_document: the drawdown for ?case is open and ?case is a drawdown_case and ?facility_doc is a facility_document and it is not the case that ?case is drawdown locked and ?case has a frozen drawdown
effects of select_facility_document: it becomes true that the facility ?facility_doc is selected for case ?case -> select {facility_document ?facility_doc} for {drawdown_case ?case}
action: verify_borrowing_base_certificate
parameters: [?case, ?borrowing_base_doc]
preconditions of verify_borrowing_base_certificate: the drawdown for ?case is open and ?borrowing_base_doc is a required document for ?case and ?borrowing_base_doc is a document for case ?case and ?borrowing_base_doc has been received and ?borrowing_base_doc is borrowing the base certificate and ?case is a drawdown_case and ?borrowing_base_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?borrowing_base_doc is verified
effects of verify_borrowing_base_certificate: it becomes true that ?borrowing_base_doc is verified and ?case has a verified borrowing base -> verify borrowing base certificate for {drawdown_case ?case} using {drawdown_document ?borrowing_base_doc}
action: verify_compliance_certificate
parameters: [?case, ?compliance_cert_doc]
preconditions of verify_compliance_certificate: the drawdown for ?case is open and ?compliance_cert_doc is a required document for ?case and ?compliance_cert_doc is a document for case ?case and ?compliance_cert_doc has been received and the document ?compliance_cert_doc is a compliance certificate and ?case is a drawdown_case and ?compliance_cert_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?compliance_cert_doc is verified
effects of verify_compliance_certificate: it becomes true that ?compliance_cert_doc is verified and ?case has a verified compliance certificate -> verify compliance certificate {drawdown_document ?compliance_cert_doc} for {drawdown_case ?case}
action: verify_covenant_compliance_statement
parameters: [?case, ?covenant_statement_doc]
preconditions of verify_covenant_compliance_statement: the drawdown for ?case is open and ?covenant_statement_doc is a required document for ?case and ?covenant_statement_doc is a document for case ?case and ?covenant_statement_doc has been received and ?covenant_statement_doc is a covenant compliance statement and ?case is a drawdown_case and ?covenant_statement_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?covenant_statement_doc is verified
effects of verify_covenant_compliance_statement: it becomes true that ?covenant_statement_doc is verified and the covenant statement for ?case is verified -> verify covenant compliance statement {drawdown_document ?covenant_statement_doc} for {drawdown_case ?case}
action: verify_use_of_proceeds_statement
parameters: [?case, ?use_of_proceeds_doc]
preconditions of verify_use_of_proceeds_statement: the drawdown for ?case is open and ?use_of_proceeds_doc is a required document for ?case and ?use_of_proceeds_doc is a document for case ?case and ?use_of_proceeds_doc has been received and ?use_of_proceeds_doc is a use of proceeds statement and ?case is a drawdown_case and ?use_of_proceeds_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?use_of_proceeds_doc is verified
effects of verify_use_of_proceeds_statement: it becomes true that ?use_of_proceeds_doc is verified and the use of proceeds for ?case has been verified -> verify {use_of_proceeds_statement ?use_of_proceeds_doc} for {drawdown_case ?case}
action: verify_fee_calculation_sheet
parameters: [?case, ?fee_calc_doc]
preconditions of verify_fee_calculation_sheet: the drawdown for ?case is open and ?fee_calc_doc is a required document for ?case and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc has been received and ?fee_calc_doc is a fee calculation sheet and ?case is a drawdown_case and ?fee_calc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?fee_calc_doc is verified
effects of verify_fee_calculation_sheet: it becomes true that ?fee_calc_doc is verified -> verify {drawdown_document ?fee_calc_doc} for {drawdown_case ?case}
action: record_two_officer_signoff
parameters: [?case, ?fee_calc_doc, ?officer_1, ?officer_2]
preconditions of record_two_officer_signoff: the drawdown for ?case is open and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc is a fee calculation sheet and ?fee_calc_doc is verified and ?officer_1 is the required person for ?case and ?officer_2 is the required person for ?case and ?officer_1 has full clearance and ?officer_2 has full clearance and ?case is a drawdown_case and ?fee_calc_doc is a drawdown_document and ?officer_1 is a bank_drawdown_officer and ?officer_2 is a bank_drawdown_officer and it is not the case that ?case is drawdown locked and ?officer_1 is equal to ?officer_2
effects of record_two_officer_signoff: it becomes true that a two-officer signoff is recorded for ?case -> record two-officer signoff for {drawdown_case ?case} on {fee_calculation_sheet ?fee_calc_doc} by {bank_drawdown_officer ?officer_1} and {bank_drawdown_officer ?officer_2}
action: verify_person_authorization_record
parameters: [?case, ?person, ?auth_kyc_doc]
preconditions of verify_person_authorization_record: the drawdown for ?case is open and ?auth_kyc_doc is a required document for ?case and ?auth_kyc_doc is a document for ?person and ?auth_kyc_doc has been received and ?auth_kyc_doc is an authorization kyc record and ?case is a drawdown_case and ?person is a participant_person and ?auth_kyc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and ?auth_kyc_doc is verified
effects of verify_person_authorization_record: it becomes true that ?auth_kyc_doc is verified and ?person has their authorization documents verified -> verify {authorization kyc record ?auth_kyc_doc} for {participant_person ?person} in {drawdown_case ?case}
action: verify_person_contact_details
parameters: [?case, ?person]
preconditions of verify_person_contact_details: the drawdown for ?case is open and ?person has their authorization documents verified and ?person is in the required set and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and ?person's contact is verified
effects of verify_person_contact_details: it becomes true that ?person's contact is verified -> verify {participant_person ?person}'s contact details for {drawdown_case ?case}
action: run_full_person_screening
parameters: [?case, ?person]
preconditions of run_full_person_screening: the drawdown for ?case is open and ?person is linked to the case ?case and ?person has their authorization documents verified and ?person's contact is verified and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and ?person has full clearance
effects of run_full_person_screening: it becomes true that sanctions have been checked for ?person and ?person has been pep checked and ?person has full clearance -> run full person screening for {participant_person ?person} on {drawdown_case ?case}
action: run_sanctions_screening_only
parameters: [?case, ?person]
preconditions of run_sanctions_screening_only: the drawdown for ?case is open and ?person is linked to the case ?case and ?person has their authorization documents verified and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and sanctions have been checked for ?person
effects of run_sanctions_screening_only: it becomes true that sanctions have been checked for ?person -> run sanctions screening for {drawdown_case ?case} on {participant_person ?person}
action: run_pep_screening_only
parameters: [?case, ?person]
preconditions of run_pep_screening_only: the drawdown for ?case is open and ?person is linked to the case ?case and ?person has their authorization documents verified and ?case is a drawdown_case and ?person is a participant_person and it is not the case that ?case is drawdown locked and ?person has been pep checked
effects of run_pep_screening_only: it becomes true that ?person has been pep checked -> run pep screening only for {participant_person ?person} on {drawdown_case ?case}
action: complete_basic_drawdown_checks
parameters: [?case]
preconditions of complete_basic_drawdown_checks: the drawdown for ?case is open and ?case has a verified borrowing base and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and basic drawdown checks are complete for ?case
effects of complete_basic_drawdown_checks: it becomes true that availability for ?case has been calculated and limit headroom is confirmed for ?case and basic drawdown checks are complete for ?case -> complete basic drawdown checks for {drawdown_case ?case}
action: enable_fast_track
parameters: [?case]
preconditions of enable_fast_track: the drawdown for ?case is open and ?case has a verified borrowing base and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case has fast track enabled
effects of enable_fast_track: it becomes true that ?case has fast track enabled -> enable fast track for {drawdown_case ?case}
action: compile_drawdown_package
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2, ?borrowing_base_doc, ?covenant_statement_doc, ?compliance_cert_doc, ?use_of_proceeds_doc, ?fee_calc_doc]
preconditions of compile_drawdown_package: the drawdown for ?case is open and ?case has a verified borrowing base and the covenant statement for ?case is verified and ?case has a verified compliance certificate and the use of proceeds for ?case has been verified and ?borrowing_base_doc is a document for case ?case and ?borrowing_base_doc is borrowing the base certificate and ?borrowing_base_doc is verified and ?covenant_statement_doc is a document for case ?case and ?covenant_statement_doc is a covenant compliance statement and ?covenant_statement_doc is verified and ?compliance_cert_doc is a document for case ?case and the document ?compliance_cert_doc is a compliance certificate and ?compliance_cert_doc is verified and ?use_of_proceeds_doc is a document for case ?case and ?use_of_proceeds_doc is a use of proceeds statement and ?use_of_proceeds_doc is verified and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc is a fee calculation sheet and ?fee_calc_doc is verified and ?borrower_signer_1 is the required person for ?case and ?borrower_signer_2 is the required person for ?case and ?bank_officer_1 is the required person for ?case and ?bank_officer_2 is the required person for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and basic drawdown checks are complete for ?case and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and ?borrowing_base_doc is a drawdown_document and ?covenant_statement_doc is a drawdown_document and ?compliance_cert_doc is a drawdown_document and ?use_of_proceeds_doc is a drawdown_document and ?fee_calc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and the drawdown package for ?case is compiled and ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2
effects of compile_drawdown_package: it becomes true that the drawdown package for ?case is compiled -> compile drawdown package for {drawdown_case ?case} with borrower signers {borrower_signatory ?borrower_signer_1} and {borrower_signatory ?borrower_signer_2}, bank officers {bank_drawdown_officer ?bank_officer_1} and {bank_drawdown_officer ?bank_officer_2}, and documents {drawdown_document ?borrowing_base_doc}, {drawdown_document ?
Revised: action: compile_drawdown_package
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2, ?borrowing_base_doc, ?covenant_statement_doc, ?compliance_cert_doc, ?use_of_proceeds_doc, ?fee_calc_doc]
preconditions of compile_drawdown_package: the drawdown for ?case is open and ?case has a verified borrowing base and the covenant statement for ?case is verified and ?case has a verified compliance certificate and the use of proceeds for ?case has been verified and ?borrowing_base_doc is a document for case ?case and ?borrowing_base_doc is borrowing the base certificate and ?borrowing_base_doc is verified and ?covenant_statement_doc is a document for case ?case and ?covenant_statement_doc is a covenant compliance statement and ?covenant_statement_doc is verified and ?compliance_cert_doc is a document for case ?case and the document ?compliance_cert_doc is a compliance certificate and ?compliance_cert_doc is verified and ?use_of_proceeds_doc is a document for case ?case and ?use_of_proceeds_doc is a use of proceeds statement and ?use_of_proceeds_doc is verified and ?fee_calc_doc is a document for case ?case and ?fee_calc_doc is a fee calculation sheet and ?fee_calc_doc is verified and ?borrower_signer_1 is the required person for ?case and ?borrower_signer_2 is the required person for ?case and ?bank_officer_1 is the required person for ?case and ?bank_officer_2 is the required person for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and basic drawdown checks are complete for ?case and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and ?borrowing_base_doc is a drawdown_document and ?covenant_statement_doc is a drawdown_document and ?compliance_cert_doc is a drawdown_document and ?use_of_proceeds_doc is a drawdown_document and ?fee_calc_doc is a drawdown_document and it is not the case that ?case is drawdown locked and the drawdown package for ?case is compiled and ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2
effects of compile_drawdown_package: it becomes true that the drawdown package for ?case is compiled -> 
action: approve_drawdown_package_four_eyes
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2]
preconditions of approve_drawdown_package_four_eyes: the drawdown for ?case is open and the drawdown package for ?case is compiled and a two-officer signoff is recorded for ?case and ?borrower_signer_1 is the required person for ?case and ?borrower_signer_2 is the required person for ?case and ?bank_officer_1 is the required person for ?case and ?bank_officer_2 is the required person for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and it is not the case that ?case is drawdown locked and ?case is approved by credit operations and ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2
effects of approve_drawdown_package_four_eyes: it becomes true that ?case is approved by credit operations and ?case is approved for risk -> approve drawdown package for {drawdown_case ?case} by {borrower_signatory ?borrower_signer_1} and {borrower_signatory ?borrower_signer_2} with approvals from {bank_drawdown_officer ?bank_officer_1} and {bank_drawdown_officer ?bank_officer_2}
action: approve_drawdown_package_fast_track
parameters: [?case]
preconditions of approve_drawdown_package_fast_track: the drawdown for ?case is open and ?case has fast track enabled and ?case has a verified borrowing base and the covenant statement for ?case is verified and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case is approved by credit operations
effects of approve_drawdown_package_fast_track: it becomes true that ?case is approved by credit operations and ?case is auto approved -> approve fast-track drawdown package for {case ?case}
action: authorize_packet_creation
parameters: [?case]
preconditions of authorize_packet_creation: the drawdown for ?case is open and ?case is approved by credit operations and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case has a compliance hold flag and ?case has a suspicious payment flag and ?case has a frozen drawdown and ?case is authorized for packet creation
effects of authorize_packet_creation: it becomes true that ?case is authorized for packet creation -> authorize packet creation for {drawdown_case ?case}
action: raise_compliance_hold
parameters: [?case]
preconditions of raise_compliance_hold: the drawdown for ?case is open and ?case is a drawdown_case and it is not the case that ?case is drawdown locked and ?case has a compliance hold flag
effects of raise_compliance_hold: it becomes true that ?case has a compliance hold flag -> raise compliance hold on {drawdown_case ?case}
action: validate_facility_document
parameters: [?case, ?facility_doc]
preconditions of validate_facility_document: the drawdown for ?case is open and the facility ?facility_doc is eligible for the case ?case and ?case is authorized for packet creation and ?case is a drawdown_case and ?facility_doc is a facility_document and it is not the case that ?case is drawdown locked and ?facility_doc is a validated facility document
effects of validate_facility_document: it becomes true that ?facility_doc is a validated facility document -> validate {facility_document ?facility_doc} for {drawdown_case ?case}
action: create_drawdown_packet
parameters: [?case, ?packet, ?signature_slot_1, ?signature_slot_2]
preconditions of create_drawdown_packet: the drawdown for ?case is open and ?case is authorized for packet creation and ?case is a drawdown_case and ?packet is a drawdown_packet and ?signature_slot_1 is a signature_slot and ?signature_slot_2 is a signature_slot and it is not the case that ?case is drawdown locked and ?packet has been created and ?signature_slot_1 is equal to ?signature_slot_2
effects of create_drawdown_packet: it becomes true that ?packet has been created and ?packet is a packet for case ?case and ?packet has signature slot ?signature_slot_1 and ?packet has signature slot ?signature_slot_2 -> create drawdown packet {drawdown_packet ?packet} for {drawdown_case ?case} with signature slots {signature_slot ?signature_slot_1} and {signature_slot ?signature_slot_2}
action: attach_facility_document_to_packet
parameters: [?case, ?packet, ?facility_doc]
preconditions of attach_facility_document_to_packet: the drawdown for ?case is open and ?packet is a packet for case ?case and ?packet has been created and ?facility_doc is a validated facility document and ?case is a drawdown_case and ?packet is a drawdown_packet and ?facility_doc is a facility_document and it is not the case that ?case is drawdown locked and ?packet is finalized and ?packet is attached to the facility document ?facility_doc
effects of attach_facility_document_to_packet: it becomes true that ?packet is attached to the facility document ?facility_doc -> attach {facility_document ?facility_doc} to {drawdown_packet ?packet} for {drawdown_case ?case}
action: assign_signer_to_packet_slot
parameters: [?case, ?packet, ?borrower_signer, ?signature_slot]
preconditions of assign_signer_to_packet_slot: the drawdown for ?case is open and ?packet is a packet for case ?case and ?packet has been created and ?borrower_signer is the required person for ?case and ?borrower_signer has their authorization documents verified and ?borrower_signer's contact is verified and ?packet has signature slot ?signature_slot and ?case is a drawdown_case and ?packet is a drawdown_packet and ?borrower_signer is a borrower_signatory and ?signature_slot is a signature_slot and it is not the case that ?case is drawdown locked and ?packet is assigned to signer ?borrower_signer
effects of assign_signer_to_packet_slot: it becomes true that ?packet is assigned to signer ?borrower_signer and it is not the case anymore that ?packet has signature slot ?signature_slot -> assign {borrower_signatory ?borrower_signer} to slot {signature_slot ?signature_slot} on {drawdown_packet ?packet} for {drawdown_case ?case}
action: start_signature_collection
parameters: [?packet]
preconditions of start_signature_collection: ?packet has been created and ?packet is a drawdown_packet and it is not the case that ?packet is finalized and signature collection has started for ?packet
effects of start_signature_collection: it becomes true that signature collection has started for ?packet -> start signature collection for {drawdown_packet ?packet}
action: capture_signer_signature
parameters: [?packet, ?borrower_signer]
preconditions of capture_signer_signature: signature collection has started for ?packet and ?packet is assigned to signer ?borrower_signer and ?packet is a drawdown_packet and ?borrower_signer is a borrower_signatory and it is not the case that ?borrower_signer's signature is captured on ?packet
effects of capture_signer_signature: it becomes true that ?borrower_signer's signature is captured on ?packet -> capture signature for {drawdown_packet ?packet} from {borrower_signatory ?borrower_signer}
action: verify_two_distinct_signatures
parameters: [?packet, ?borrower_signer_1, ?borrower_signer_2]
preconditions of verify_two_distinct_signatures: ?packet is assigned to signer ?borrower_signer_1 and ?packet is assigned to signer ?borrower_signer_2 and ?borrower_signer_1's signature is captured on ?packet and ?borrower_signer_2's signature is captured on ?packet and ?packet is a drawdown_packet and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and it is not the case that the two signatures on ?packet are verified and ?borrower_signer_1 is equal to ?borrower_signer_2
effects of verify_two_distinct_signatures: it becomes true that the two signatures on ?packet are verified -> verify two distinct signatures on {drawdown_packet ?packet} from {borrower_signatory ?borrower_signer_1} and {borrower_signatory ?borrower_signer_2}
action: perform_packet_compliance_check
parameters: [?packet]
preconditions of perform_packet_compliance_check: the two signatures on ?packet are verified and ?packet is a drawdown_packet and it is not the case that ?packet has been checked for packet compliance
effects of perform_packet_compliance_check: it becomes true that ?packet has been checked for packet compliance -> check packet compliance for {drawdown_packet ?packet}
action: finalize_drawdown_packet
parameters: [?packet]
preconditions of finalize_drawdown_packet: ?packet has been checked for packet compliance and ?packet is a drawdown_packet and it is not the case that ?packet is finalized
effects of finalize_drawdown_packet: it becomes true that ?packet is finalized and it is not the case anymore that signature collection has started for ?packet -> finalize {drawdown_packet ?packet} that has been checked for packet compliance and stop signature collection for {drawdown_packet ?packet}
action: confirm_packet_has_three_facility_docs
parameters: [?case, ?packet, ?facility_doc_1, ?facility_doc_2, ?facility_doc_3]
preconditions of confirm_packet_has_three_facility_docs: the drawdown for ?case is open and ?packet is a packet for case ?case and ?packet is finalized and ?packet is attached to the facility document ?facility_doc_1 and ?packet is attached to the facility document ?facility_doc_2 and ?packet is attached to the facility document ?facility_doc_3 and ?case is a drawdown_case and ?packet is a drawdown_packet and ?facility_doc_1 is a facility_document and ?facility_doc_2 is a facility_document and ?facility_doc_3 is a facility_document and it is not the case that ?case is drawdown locked and the drawdown packet for ?case is complete and ?facility_doc_1 is equal to ?facility_doc_2 and ?facility_doc_1 is equal to ?facility_doc_3 and ?facility_doc_2 is equal to ?facility_doc_3
effects of confirm_packet_has_three_facility_docs: it becomes true that the drawdown packet for ?case is complete -> confirm drawdown packet {drawdown_packet ?packet} for {drawdown_case ?case} attached to facility documents {facility_document ?facility_doc_1}, {facility_document ?facility_doc_2} and {facility_document ?facility_doc_3} is complete
action: reopen_packet_and_reset_signatures
parameters: [?case, ?packet, ?reopen_token, ?signature_slot_1, ?signature_slot_2]
preconditions of reopen_packet_and_reset_signatures: the drawdown for ?case is open and ?packet is a packet for case ?case and ?packet has been created and ?reopen_token is available and ?case is a drawdown_case and ?packet is a drawdown_packet and ?reopen_token is a reopen_key_token and ?signature_slot_1 is a signature_slot and ?signature_slot_2 is a signature_slot and it is not the case that ?case is drawdown locked and ?packet has been reopened
effects of reopen_packet_and_reset_signatures: it becomes true that ?packet has been reopened and ?reopen_token is consumed and ?packet has signature slot ?signature_slot_1 and ?packet has signature slot ?signature_slot_2 and it is not the case anymore that ?reopen_token is available and ?packet is finalized and ?packet has been checked for packet compliance and the two signatures on ?packet are verified and signature collection has started for ?packet -> reopen {drawdown_packet ?packet} for {drawdown_case ?case} using {reopen_key_token ?reopen_token} and reset signature slots {signature_slot ?signature_slot_1} and {signature_slot ?signature_slot_2}
action: lock_case_for_execution
parameters: [?case, ?packet]
preconditions of lock_case_for_execution: the drawdown for ?case is open and the drawdown packet for ?case is complete and ?packet is a packet for case ?case and ?packet is finalized and ?case is authorized for packet creation and ?case is a drawdown_case and ?packet is a drawdown_packet and it is not the case that ?case is drawdown locked and ?case has a frozen drawdown
effects of lock_case_for_execution: it becomes true that ?case is drawdown locked and it is not the case anymore that the drawdown for ?case is open -> lock {drawdown_case ?case} for execution with {drawdown_packet ?packet}
action: reopen_locked_case
parameters: [?case, ?reopen_token]
preconditions of reopen_locked_case: ?case is drawdown locked and ?reopen_token is available and ?case is a drawdown_case and ?reopen_token is a reopen_key_token and it is not the case that ?case has a frozen drawdown
effects of reopen_locked_case: it becomes true that the drawdown for ?case is open and ?case has a compliance hold flag and ?reopen_token is consumed and it is not the case anymore that ?case is drawdown locked and ?reopen_token is available -> reopen drawdown for {drawdown_case ?case} with {reopen_key_token ?reopen_token}
action: freeze_case_due_to_suspicious_payment
parameters: [?case, ?payment_instruction]
preconditions of freeze_case_due_to_suspicious_payment: the drawdown for ?case is open and ?case is a drawdown_case and ?payment_instruction is a payment_instruction and it is not the case that ?case is drawdown locked and ?case is authorized for packet creation and ?case has a frozen drawdown
effects of freeze_case_due_to_suspicious_payment: it becomes true that ?case has the payment instruction ?payment_instruction and ?case has a suspicious payment flag and ?case has a frozen drawdown -> freeze drawdown case {drawdown_case ?case} due to suspicious payment instruction {payment_instruction ?payment_instruction}
action: draft_payment_instruction
parameters: [?case, ?payment_instruction]
preconditions of draft_payment_instruction: ?case is drawdown locked and ?case is authorized for packet creation and the drawdown packet for ?case is complete and ?case is a drawdown_case and ?payment_instruction is a payment_instruction and it is not the case that a payment instruction has been drafted for ?case and ?case has the payment instruction ?payment_instruction
effects of draft_payment_instruction: it becomes true that a payment instruction has been drafted for ?case and ?case has the payment instruction ?payment_instruction and ?payment_instruction payment instruction was created and ?case payment instruction has been validated -> draft payment instruction {payment_instruction ?payment_instruction} for {drawdown_case ?case}
action: validate_payment_instruction
parameters: [?case]
preconditions of validate_payment_instruction: ?case is drawdown locked and ?case payment instruction has been validated and ?case is a drawdown_case and it is not the case that the payment instruction for ?case is approved
effects of validate_payment_instruction: it becomes true that the payment instruction for ?case is approved -> validate payment instruction for {drawdown_case ?case}
action: approve_payment_instruction
parameters: [?case]
preconditions of approve_payment_instruction: ?case is drawdown locked and the payment instruction for ?case is approved and ?case is a drawdown_case and it is not the case that the payment instruction for ?case is ready to be signed
effects of approve_payment_instruction: it becomes true that the payment instruction for ?case is ready to be signed -> approve payment instruction for {drawdown_case ?case}
action: sign_payment_instruction
parameters: [?payment_instruction, ?case]
preconditions of sign_payment_instruction: ?case is drawdown locked and ?payment_instruction payment instruction was created and the payment instruction for ?case is ready to be signed and ?payment_instruction is a payment_instruction and ?case is a drawdown_case and it is not the case that ?payment_instruction is a signed payment instruction
effects of sign_payment_instruction: it becomes true that ?payment_instruction is a signed payment instruction -> sign {payment_instruction ?payment_instruction} for {drawdown_case ?case}
action: send_instruction_to_treasury
parameters: [?payment_instruction]
preconditions of send_instruction_to_treasury: ?payment_instruction is a signed payment instruction and ?payment_instruction is a payment_instruction and it is not the case that ?payment_instruction is sent to the treasury
effects of send_instruction_to_treasury: it becomes true that ?payment_instruction is sent to the treasury -> send {signed payment instruction ?payment_instruction} to the treasury
action: execute_treasury_release
parameters: [?payment_instruction, ?case, ?packet, ?facility_doc]
preconditions of execute_treasury_release: ?case is drawdown locked and ?case is authorized for packet creation and ?case is approved for risk and ?payment_instruction is sent to the treasury and ?packet is a packet for case ?case and ?packet is finalized and ?packet is attached to the facility document ?facility_doc and the facility ?facility_doc is eligible for the case ?case and ?facility_doc requires fx review and the covenant statement for ?case is verified and the use of proceeds for ?case has been verified and ?payment_instruction is a payment_instruction and ?case is a drawdown_case and ?packet is a drawdown_packet and ?facility_doc is a facility_document and it is not the case that ?payment_instruction payment instruction has been executed
effects of execute_treasury_release: it becomes true that ?payment_instruction payment instruction has been executed -> execute treasury release {payment_instruction ?payment_instruction} for {drawdown_case ?case} using {drawdown_packet ?packet} attached to {facility_document ?facility_doc}
action: reserve_wire_cutoff_window
parameters: [?payment_instruction, ?cutoff_window_token]
preconditions of reserve_wire_cutoff_window: ?payment_instruction payment instruction has been executed and ?cutoff_window_token is available and ?payment_instruction is a payment_instruction and ?cutoff_window_token is a wire_cutoff_window_token and it is not the case that wire cutoff is reserved for ?payment_instruction
effects of reserve_wire_cutoff_window: it becomes true that wire cutoff is reserved for ?payment_instruction and ?cutoff_window_token is consumed and it is not the case anymore that ?cutoff_window_token is available -> reserve wire cutoff window for {payment_instruction ?payment_instruction} using {wire_cutoff_window_token ?cutoff_window_token}
action: consume_cutoff_window_without_reservation
parameters: [?case, ?cutoff_window_token]
preconditions of consume_cutoff_window_without_reservation: ?case is drawdown locked and ?cutoff_window_token is available and ?case is a drawdown_case and ?cutoff_window_token is a wire_cutoff_window_token and it is not the case that ?case has a frozen drawdown
effects of consume_cutoff_window_without_reservation: it becomes true that ?cutoff_window_token is consumed and it is not the case anymore that ?cutoff_window_token is available -> consume cutoff window without reservation for {drawdown_case ?case} using {wire_cutoff_window_token ?cutoff_window_token}
action: release_wire_payment
parameters: [?payment_instruction]
preconditions of release_wire_payment: wire cutoff is reserved for ?payment_instruction and ?payment_instruction is a payment_instruction and it is not the case that the beneficiary of ?payment_instruction is credited and ?payment_instruction has been released by wire
effects of release_wire_payment: it becomes true that ?payment_instruction has been released by wire -> release {payment_instruction ?payment_instruction} by wire
action: confirm_beneficiary_credit
parameters: [?payment_instruction]
preconditions of confirm_beneficiary_credit: ?payment_instruction has been released by wire and ?payment_instruction is a payment_instruction and it is not the case that the beneficiary of ?payment_instruction is credited
effects of confirm_beneficiary_credit: it becomes true that the beneficiary of ?payment_instruction is credited -> confirm beneficiary credit for {payment_instruction ?payment_instruction}
action: mark_funds_settled
parameters: [?payment_instruction]
preconditions of mark_funds_settled: the beneficiary of ?payment_instruction is credited and ?payment_instruction is a payment_instruction and it is not the case that funds for ?payment_instruction are settled
effects of mark_funds_settled: it becomes true that funds for ?payment_instruction are settled -> mark funds settled for {payment_instruction ?payment_instruction}
action: create_disbursement_notice
parameters: [?case, ?notice, ?borrower_signer, ?dispatch_window_token, ?packet, ?facility_doc]
preconditions of create_disbursement_notice: ?case is drawdown locked and ?dispatch_window_token is available and ?packet is a packet for case ?case and ?packet is finalized and ?packet is attached to the facility document ?facility_doc and the facility ?facility_doc is eligible for the case ?case and the facility requires agent notice for ?facility_doc and ?borrower_signer is the required person for ?case and ?borrower_signer has full clearance and ?case is a drawdown_case and ?notice is a disbursement_notice and ?borrower_signer is a borrower_signatory and ?dispatch_window_token is a notice_dispatch_window_token and ?packet is a drawdown_packet and ?facility_doc is a facility_document and it is not the case that ?notice is addressed to the signer ?borrower_signer in case ?case
effects of create_disbursement_notice: it becomes true that ?notice is addressed to the signer ?borrower_signer in case ?case and ?notice has been created and ?dispatch_window_token is consumed and it is not the case anymore that ?dispatch_window_token is available -> create disbursement notice {disbursement_notice ?notice} for {drawdown_case ?case} addressed to {borrower_signatory ?borrower_signer} using {drawdown_packet ?packet} attached to {facility_document ?facility_doc} consuming {notice_dispatch_window_token ?dispatch_window_token}
action: approve_disbursement_notice
parameters: [?notice]
preconditions of approve_disbursement_notice: ?notice has been created and ?notice is a disbursement_notice and it is not the case that ?notice is approved
effects of approve_disbursement_notice: it becomes true that ?notice is approved -> approve {disbursement_notice ?notice}
action: create_notice_delivery_package
parameters: [?delivery_package, ?notice]
preconditions of create_notice_delivery_package: ?notice has been created and ?notice is approved and ?delivery_package is a delivery_package and ?notice is a disbursement_notice and it is not the case that the delivery package ?delivery_package has been created
effects of create_notice_delivery_package: it becomes true that the delivery package ?delivery_package has been created and the package ?delivery_package is for the notice ?notice -> create {delivery_package ?delivery_package} for {disbursement_notice ?notice}
action: apply_delivery_label
parameters: [?delivery_package, ?delivery_slot_token]
preconditions of apply_delivery_label: the delivery package ?delivery_package has been created and ?delivery_slot_token is available and ?delivery_package is a delivery_package and ?delivery_slot_token is a delivery_slot_token and it is not the case that ?delivery_package is a labeled package
effects of apply_delivery_label: it becomes true that ?delivery_package is a labeled package and ?delivery_slot_token is consumed and it is not the case anymore that ?delivery_slot_token is available -> apply delivery label to {delivery_package ?delivery_package} using {delivery_slot_token ?delivery_slot_token}
action: assign_senior_override_review
parameters: [?case, ?delivery_slot_token]
preconditions of assign_senior_override_review: ?case is drawdown locked and ?delivery_slot_token is available and ?case is a drawdown_case and ?delivery_slot_token is a delivery_slot_token and it is not the case that ?case is assigned a senior override
effects of assign_senior_override_review: it becomes true that ?case is assigned a senior override and ?delivery_slot_token is consumed and it is not the case anymore that ?delivery_slot_token is available -> assign senior override review to {drawdown_case ?case} using {delivery_slot_token ?delivery_slot_token}
action: print_delivery_label
parameters: [?delivery_package]
preconditions of print_delivery_label: ?delivery_package is a labeled package and ?delivery_package is a delivery_package and it is not the case that ?delivery_package has a printed label
effects of print_delivery_label: it becomes true that ?delivery_package has a printed label -> print delivery label for {delivery_package ?delivery_package}
action: scan_delivery_label
parameters: [?delivery_package]
preconditions of scan_delivery_label: ?delivery_package has a printed label and ?delivery_package is a delivery_package and it is not the case that the label of ?delivery_package has been scanned
effects of scan_delivery_label: it becomes true that the label of ?delivery_package has been scanned -> scan label of {delivery_package ?delivery_package}
action: mark_notice_ready
parameters: [?notice]
preconditions of mark_notice_ready: ?notice is ready to be sent and ?notice is a disbursement_notice
effects of mark_notice_ready: it becomes true that ?notice is ready to be sent -> mark {disbursement_notice ?notice} ready to be sent
action: send_notice_via_secure_delivery
parameters: [?notice, ?payment_instruction, ?case, ?delivery_package, ?borrower_signer]
preconditions of send_notice_via_secure_delivery: ?case is drawdown locked and ?notice is addressed to the signer ?borrower_signer in case ?case and ?notice has been created and ?case has the payment instruction ?payment_instruction and ?payment_instruction payment instruction was created and the package ?delivery_package is for the notice ?notice and the label of ?delivery_package has been scanned and ?notice is ready to be sent and ?notice is a disbursement_notice and ?payment_instruction is a payment_instruction and ?case is a drawdown_case and ?delivery_package is a delivery_package and ?borrower_signer is a borrower_signatory and it is not the case that ?case has a frozen drawdown and ?notice has been sent
effects of send_notice_via_secure_delivery: it becomes true that ?notice has been sent -> send {disbursement_notice ?notice} for {drawdown_case ?case} via secure delivery package {delivery_package ?delivery_package} to {borrower_signatory ?borrower_signer} with payment instruction {payment_instruction ?payment_instruction}
action: complete_final_controls
parameters: [?case, ?borrower_signer_1, ?borrower_signer_2, ?bank_officer_1, ?bank_officer_2, ?payment_instruction, ?notice]
preconditions of complete_final_controls: ?case is drawdown locked and ?case is authorized for packet creation and ?case is approved for risk and the drawdown package for ?case is compiled and a two-officer signoff is recorded for ?case and ?borrower_signer_1 is the required person for ?case and ?borrower_signer_2 is the required person for ?case and ?bank_officer_1 is the required person for ?case and ?bank_officer_2 is the required person for ?case and ?borrower_signer_1 has full clearance and ?borrower_signer_2 has full clearance and ?bank_officer_1 has full clearance and ?bank_officer_2 has full clearance and funds for ?payment_instruction are settled and ?notice has been sent and ?case is a drawdown_case and ?borrower_signer_1 is a borrower_signatory and ?borrower_signer_2 is a borrower_signatory and ?bank_officer_1 is a bank_drawdown_officer and ?bank_officer_2 is a bank_drawdown_officer and ?payment_instruction is a payment_instruction and ?notice is a disbursement_notice and it is not the case that ?borrower_signer_1 is equal to ?borrower_signer_2 and ?bank_officer_1 is equal to ?bank_officer_2 and ?case has a compliance hold flag and ?case has a suspicious payment flag and ?case has a frozen drawdown and final controls are complete for ?case
effects of complete_final_controls: it becomes true that final controls are complete for ?case -> complete final controls for {drawdown_case ?case} with borrower signatories {borrower_signatory ?borrower_signer_1} and {borrower_signatory ?borrower_signer_2}, bank drawdown officers {bank_drawdown_officer ?bank_officer_1} and {bank_drawdown_officer ?bank_officer_2}, payment instruction {payment_instruction ?payment_instruction} and disbursement notice {disbursement_notice ?notice}
action: close_drawdown_case
parameters: [?case, ?payment_instruction, ?notice]
preconditions of close_drawdown_case: ?case is drawdown locked and final controls are complete for ?case and ?payment_instruction payment instruction was created and ?payment_instruction payment instruction has been executed and the beneficiary of ?payment_instruction is credited and ?notice has been sent and ?case is a drawdown_case and ?payment_instruction is a payment_instruction and ?notice is a disbursement_notice and it is not the case that the drawdown for ?case is completed
effects of close_drawdown_case: it becomes true that the drawdown for ?case is completed and it is not the case anymore that ?case is drawdown locked -> close drawdown case {drawdown_case ?case} with {payment_instruction ?payment_instruction} and {disbursement_notice ?notice}
